fotoramaVersion="4.6.4",function(e,t,n,i,o){"use strict";function r(e){var t="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[t]){var n=function(e,t){var n=[null,null],i=[null,null],o=[null,null],r=function(r,a){return o[a]=3*e[a],i[a]=3*(t[a]-e[a])-o[a],n[a]=1-o[a]-i[a],r*(o[a]+r*(i[a]+r*n[a]))},a=function(e){return o[0]+e*(2*i[0]+3*n[0]*e)},s=function(e){for(var t,n=e,i=0;++i<14&&(t=r(n,0)-e,!(Math.abs(t)<.001));)n-=t/a(n);return n};return function(e){return r(s(e),1)}};i.easing[t]=function(t,i,o,r,a){return r*n([e[0],e[1]],[e[2],e[3]])(i/a)+o}}return t}function a(){}function s(e,t,n){return Math.max(isNaN(t)?-1/0:t,Math.min(isNaN(n)?1/0:n,e))}function u(e){return e.match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]}function l(e){return Mt?+u(e.css("transform")):+e.css("left").replace("px","")}function c(e){var t={};return Mt?t.transform="translate3d("+e+"px,0,0)":t.left=e,t}function f(e){return{"transition-duration":e+"ms"}}function d(e,t){return isNaN(e)?t:e}function p(e,t){return d(+String(e).replace(t||"px",""))}function h(e){return/%$/.test(e)?p(e,"%"):o}function m(e,t){return d(h(e)/100*t,p(e))}function g(e){return(!isNaN(p(e))||!isNaN(p(e,"%")))&&e}function v(e,t,n,i){return(e-(i||0))*(t+(n||0))}function y(e,t,n,i){return-Math.round(e/(t+(n||0))-(i||0))}function x(e){var t=e.data();if(!t.tEnd){var n=e[0],i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};U(n,i[bt.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()}),t.tEnd=!0}}function b(e,t,n,i){var o,r=e.data();r&&(r.onEndFn=function(){o||(o=!0,clearTimeout(r.tT),n())},r.tProp=t,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*i),x(e))}function w(e,t){if(e.length){var n=e.data();Mt?(e.css(f(0)),n.onEndFn=a,clearTimeout(n.tT)):e.stop();var i=C(t,function(){return l(e)});return e.css(c(i)),i}}function C(){for(var e,t=0,n=arguments.length;n>t&&(e=t?arguments[t]():arguments[t],"number"!=typeof e);t++);return e}function T(e,t){return Math.round(e+(t-e)/1.5)}function E(){return E.p=E.p||("https:"===n.protocol?"https://":"http://"),E.p}function S(e){var n=t.createElement("a");return n.href=e,n}function k(e,t){if("string"!=typeof e)return e;e=S(e);var n,i;if(e.host.match(/youtube\.com/)&&e.search){if(n=e.search.split("v=")[1]){var o=n.indexOf("&");-1!==o&&(n=n.substring(0,o)),i="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(n=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):e.host.match(/vimeo\.com/)&&(i="vimeo",n=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!t||(n=e.href,i="custom"),!!n&&{id:n,type:i,s:e.search.replace(/^\?/,""),p:E()}}function _(e,t,n){var o,r,a=e.video;return"youtube"===a.type?(r=E()+"img.youtube.com/vi/"+a.id+"/default.jpg",o=r.replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===a.type?i.ajax({url:E()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(i){e.thumbsReady=!0,I(t,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},e.i,n)}}):e.thumbsReady=!0,{img:o,thumb:r}}function I(e,t,n,o){for(var r=0,a=e.length;a>r;r++){var s=e[r];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Qt]=u[Gt]=u[Kt]=!1,o.splice(r,1,i.extend({},s,u,t));break}}}function j(e){function t(e,t,o){var r=e.children("img").eq(0),a=e.attr("href"),s=e.attr("src"),u=r.attr("src"),l=t.video,c=!!o&&k(a,l===!0);c?a=!1:c=l,n(e,r,i.extend(t,{video:c,img:t.img||a||s||u,thumb:t.thumb||u||s||a}))}function n(e,t,n){var o=n.thumb&&n.img!==n.thumb,r=p(n.width||e.attr("width")),a=p(n.height||e.attr("height"));i.extend(n,{width:r,height:a,thumbratio:$(n.thumbratio||p(n.thumbwidth||t&&t.attr("width")||o||r)/p(n.thumbheight||t&&t.attr("height")||o||a))})}var o=[];return e.children().each(function(){var e=i(this),r=B(i.extend(e.data(),{id:e.attr("id")}));if(e.is("a, img"))t(e,r,!0);else{if(e.is(":empty"))return;n(e,null,i.extend(r,{html:this,_html:e.html()}))}o.push(r)}),o}function N(e){return 0===e.offsetWidth&&0===e.offsetHeight}function L(e){return!i.contains(t.documentElement,e)}function P(e,t,n,i){return P.i||(P.i=1,P.ii=[!0]),i=i||P.i,"undefined"==typeof P.ii[i]&&(P.ii[i]=!0),e()?t():P.ii[i]&&setTimeout(function(){P.ii[i]&&P(e,t,n,i)},n||100),P.i++}function A(e){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+e)}function M(e,t,n,i){var o=e.data(),r=o.measures;if(r&&(!o.l||o.l.W!==r.width||o.l.H!==r.height||o.l.r!==r.ratio||o.l.w!==t.w||o.l.h!==t.h||o.l.m!==n||o.l.p!==i)){var a=r.width,u=r.height,l=t.w/t.h,c=r.ratio>=l,f="scaledown"===n,d="contain"===n,p="cover"===n,h=Z(i);c&&(f||d)||!c&&p?(a=s(t.w,0,f?a:1/0),u=a/r.ratio):(c&&p||!c&&(f||d))&&(u=s(t.h,0,f?u:1/0),a=u*r.ratio),e.css({width:a,height:u,left:m(h.x,t.w-a),top:m(h.y,t.h-u)}),o.l={W:r.width,H:r.height,r:r.ratio,w:t.w,h:t.h,m:n,p:i}}return!0}function O(e,t){var n=e[0];n.styleSheet?n.styleSheet.cssText=t:e.html(t)}function F(e,t,n){return t!==n&&(t>=e?"left":e>=n?"right":"left right")}function D(e,t,n,i){if(!n)return!1;if(!isNaN(e))return e-(i?0:1);for(var o,r=0,a=t.length;a>r;r++){var s=t[r];if(s.id===e){o=r;break}}return o}function z(e,t,n){n=n||{},e.each(function(){var e,o=i(this),r=o.data();r.clickOn||(r.clickOn=!0,i.extend(ne(o,{onStart:function(t){e=t,(n.onStart||a).call(this,t)},onMove:n.onMove||a,onTouchEnd:n.onTouchEnd||a,onEnd:function(n){n.moved||t.call(this,e)}}),{noMove:!0}))})}function q(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function H(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),i=e[t];e[t]=e[n],e[n]=i}return e}function W(e){return"[object Array]"==Object.prototype.toString.call(e)&&i.map(e,function(e){return i.extend({},e)})}function R(e,t,n){e.scrollLeft(t||0).scrollTop(n||0)}function B(e){if(e){var t={};return i.each(e,function(e,n){t[e.toLowerCase()]=n}),t}}function $(e){if(e){var t=+e;return isNaN(t)?(t=e.split("/"),+t[0]/+t[1]||o):t}}function U(e,t,n,i){t&&(e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n))}function X(e){return!!e.getAttribute("disabled")}function Y(e){return{tabindex:-1*e+"",disabled:e}}function V(e,t){U(e,"keyup",function(n){X(e)||13==n.keyCode&&t.call(e,n)})}function Q(e,t){U(e,"focus",e.onfocusin=function(n){t.call(e,n)},!0)}function K(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&e.stopPropagation&&e.stopPropagation()}function G(e){return e?">":"<"}function Z(e){return e=(e+"").split(/\s+/),{x:g(e[0])||tn,y:g(e[1])||tn}}function J(e,t){var n=e.data(),o=Math.round(t.pos),r=function(){n.sliding=!1,(t.onEnd||a)()};"undefined"!=typeof t.overPos&&t.overPos!==t.pos&&(o=t.overPos,r=function(){J(e,i.extend({},t,{overPos:t.pos,time:Math.max(Rt,t.time/2)}))});var s=i.extend(c(o),t.width&&{width:t.width});n.sliding=!0,Mt?(e.css(i.extend(f(t.time),s)),t.time>10?b(e,"transform",r,t.time):r()):e.stop().animate(s,t.time,Jt,r)}function ee(e,t,n,o,r,s){var u="undefined"!=typeof s;if(u||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){e=e||i(e),t=t||i(t);var l=e[0],c=t[0],f="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var e=(u||r.shift())&&r.shift();e&&ee.apply(this,e),(o.onEnd||a)(!!e)}},p=o.time/(s||1);n.removeClass(Be+" "+Re),e.stop().addClass(Be),t.stop().addClass(Re),f&&c&&e.fadeTo(0,0),e.fadeTo(f?p:0,1,f&&d),t.fadeTo(p,0,d),l&&f||c||d()}}function te(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY,e._now=i.now()}function ne(e,n){function o(e){return d=i(e.target),b.checked=m=g=y=!1,c||b.flow||e.touches&&e.touches.length>1||e.which>1||rn&&rn.type!==e.type&&sn||(m=n.select&&d.is(n.select,x))?m:(h="touchstart"===e.type,g=d.is("a, a *",x),p=b.control,v=b.noMove||b.noSwipe||p?16:b.snap?0:4,te(e),f=rn=e,an=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||a).call(x,e,{control:p,$target:d}),c=b.flow=!0,void((!h||b.go)&&K(e)))}function r(e){if(e.touches&&e.touches.length>1||qt&&!e.isPrimary||an!==e.type||!c)return c&&s(),void(n.onTouchEnd||a)();te(e);var t=Math.abs(e._x-f._x),i=Math.abs(e._y-f._y),o=t-i,r=(b.go||b.x||o>=0)&&!b.noSwipe,u=0>o;h&&!b.checked?(c=r)&&K(e):(K(e),(n.onMove||a).call(x,e,{touch:h})),!y&&Math.sqrt(Math.pow(t,2)+Math.pow(i,2))>v&&(y=!0),b.checked=b.checked||r||u}function s(e){(n.onTouchEnd||a)();var t=c;b.control=c=!1,t&&(b.flow=!1),!t||g&&!b.checked||(e&&K(e),sn=!0,clearTimeout(un),un=setTimeout(function(){sn=!1},1e3),(n.onEnd||a).call(x,{moved:y,$target:d,control:p,touch:h,startEvent:f,aborted:!e||"MSPointerCancel"===e.type}))}function u(){b.flow||setTimeout(function(){b.flow=!0},10)}function l(){b.flow&&setTimeout(function(){b.flow=!1},Wt)}var c,f,d,p,h,m,g,v,y,x=e[0],b={};return qt?(U(x,"MSPointerDown",o),U(t,"MSPointerMove",r),U(t,"MSPointerCancel",s),U(t,"MSPointerUp",s)):(U(x,"touchstart",o),U(x,"touchmove",r),U(x,"touchend",s),U(t,"touchstart",u),U(t,"touchend",l),U(t,"touchcancel",l),Nt.on("scroll",l),e.on("mousedown",o),Lt.on("mousemove",r).on("mouseup",s)),e.on("click","a",function(e){b.checked&&K(e)}),b}function ie(e,t){function n(n,i){k=!0,l=f=n._x,g=n._now,m=[[g,l]],d=p=j.noMove||i?0:w(e,(t.getPos||a)()),(t.onStart||a).call(_,n)}function o(e,t){y=j.min,x=j.max,b=j.snap,C=e.altKey,k=S=!1,E=t.control,E||I.sliding||n(e)}function r(i,o){j.noSwipe||(k||n(i),f=i._x,m.push([i._now,f]),p=d-(l-f),h=F(p,y,x),y>=p?p=T(p,y):p>=x&&(p=T(p,x)),j.noMove||(e.css(c(p)),S||(S=!0,o.touch||qt||e.addClass(ot)),(t.onMove||a).call(_,i,{pos:p,edge:h})))}function u(o){if(!j.noSwipe||!o.moved){k||n(o.startEvent,!0),o.touch||qt||e.removeClass(ot),v=i.now();for(var r,u,l,c,h,g,w,T,E,S=v-Wt,I=null,N=Rt,L=t.friction,P=m.length-1;P>=0;P--){if(r=m[P][0],u=Math.abs(r-S),null===I||l>u)I=r,c=m[P][1];else if(I===S||u>l)break;l=u}w=s(p,y,x);var A=c-f,M=A>=0,O=v-I,F=O>Wt,D=!F&&p!==d&&w===p;b&&(w=s(Math[D?M?"floor":"ceil":"round"](p/b)*b,y,x),y=x=w),D&&(b||w===p)&&(E=-(A/O),N*=s(Math.abs(E),t.timeLow,t.timeHigh),h=Math.round(p+E*N/L),b||(w=h),(!M&&h>x||M&&y>h)&&(g=M?y:x,T=h-g,b||(w=g),T=s(w+.03*T,g-50,g+50),N=Math.abs((p-T)/(E/L)))),N*=C?10:1,(t.onEnd||a).call(_,i.extend(o,{moved:o.moved||F&&b,pos:p,newPos:w,overPos:T,time:N}))}}var l,f,d,p,h,m,g,v,y,x,b,C,E,S,k,_=e[0],I=e.data(),j={};return j=i.extend(ne(t.$wrap,i.extend({},t,{onStart:o,onMove:r,onEnd:u})),j)}function oe(e,t){var n,o,r,s=e[0],u={prevent:{}};return U(s,Ht,function(e){var s=e.wheelDeltaY||-1*e.deltaY||0,l=e.wheelDeltaX||-1*e.deltaX||0,c=Math.abs(l)&&!Math.abs(s),f=G(0>l),d=o===f,p=i.now(),h=Wt>p-r;o=f,r=p,c&&u.ok&&(!u.prevent[f]||n)&&(K(e,!0),n&&d&&h||(t.shift&&(n=!0,clearTimeout(u.t),u.t=setTimeout(function(){n=!1},Bt)),(t.onEnd||a)(e,t.shift?f:l)))}),u}function re(){i.each(i.Fotorama.instances,function(e,t){t.index=e})}function ae(e){i.Fotorama.instances.push(e),re()}function se(e){i.Fotorama.instances.splice(e.index,1),re()}var ue="fotorama",le="fullscreen",ce=ue+"__wrap",fe=ce+"--css2",de=ce+"--css3",pe=ce+"--video",he=ce+"--fade",me=ce+"--slide",ge=ce+"--no-controls",ve=ce+"--no-shadows",ye=ce+"--pan-y",xe=ce+"--rtl",be=ce+"--only-active",we=ce+"--no-captions",Ce=ce+"--toggle-arrows",Te=ue+"__stage",Ee=Te+"__frame",Se=Ee+"--video",ke=Te+"__shaft",_e=ue+"__grab",Ie=ue+"__pointer",je=ue+"__arr",Ne=je+"--disabled",Le=je+"--prev",Pe=je+"--next",Ae=ue+"__nav",Me=Ae+"-wrap",Oe=Ae+"__shaft",Fe=Ae+"--dots",De=Ae+"--thumbs",ze=Ae+"__frame",qe=ze+"--dot",He=ze+"--thumb",We=ue+"__fade",Re=We+"-front",Be=We+"-rear",$e=ue+"__shadow",Ue=$e+"s",Xe=Ue+"--left",Ye=Ue+"--right",Ve=ue+"__active",Qe=ue+"__select",Ke=ue+"--hidden",Ge=ue+"--fullscreen",Ze=ue+"__fullscreen-icon",Je=ue+"__error",et=ue+"__loading",tt=ue+"__loaded",nt=tt+"--full",it=tt+"--img",ot=ue+"__grabbing",rt=ue+"__img",at=rt+"--full",st=ue+"__dot",ut=ue+"__thumb",lt=ut+"-border",ct=ue+"__html",ft=ue+"__video",dt=ft+"-play",pt=ft+"-close",ht=ue+"__caption",mt=ue+"__caption__wrap",gt=ue+"__spinner",vt='" tabindex="0" role="button',yt=i&&i.fn.jquery.split(".");if(!yt||yt[0]<1||1==yt[0]&&yt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var xt={},bt=function(e,t,n){function i(e){v.cssText=e}function o(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var o=e[i];if(!r(o,"-")&&v[o]!==n)return"pfx"!=t||o}return!1}function s(e,t,i){for(var r in e){var a=t[e[r]];if(a!==n)return i===!1?e[r]:o(a,"function")?a.bind(i||t):a}return!1}function u(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+b.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?a(r,t):(r=(e+" "+w.join(i+" ")+i).split(" "),s(r,t,n))}var l,c,f,d="2.6.2",p={},h=t.documentElement,m="modernizr",g=t.createElement(m),v=g.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),x="Webkit Moz O ms",b=x.split(" "),w=x.toLowerCase().split(" "),C={},T=[],E=T.slice,S=function(e,n,i,o){var r,a,s,u,l=t.createElement("div"),c=t.body,f=c||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=o?o[i]:m+(i+1),l.appendChild(s);return r=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),l.id=m,(c?l:f).innerHTML+=r,f.appendChild(l),c||(f.style.background="",f.style.overflow="hidden",u=h.style.overflow,h.style.overflow="hidden",h.appendChild(f)),a=n(l,e),c?l.parentNode.removeChild(l):(f.parentNode.removeChild(f),h.style.overflow=u),!!a},k={}.hasOwnProperty;f=o(k,"undefined")||o(k.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var r=new o,a=t.apply(r,n.concat(E.call(arguments)));return Object(a)===a?a:r}return t.apply(e,n.concat(E.call(arguments)))};return i}),C.csstransforms3d=function(){var e=!!u("perspective");return e};for(var _ in C)f(C,_)&&(c=_.toLowerCase(),p[c]=C[_](),T.push((p[c]?"":"no-")+c));return p.addTest=function(e,t){if("object"==typeof e)for(var i in e)f(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(t?"":"no-")+e),p[e]=t}return p},i(""),g=l=null,p._version=d,p._prefixes=y,p._domPrefixes=w,p._cssomPrefixes=b,p.testProp=function(e){return a([e])},p.testAllProps=u,p.testStyles=S,p.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},p}(e,t),wt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Ct="webkit moz o ms khtml".split(" ");if("undefined"!=typeof t.cancelFullScreen)wt.ok=!0;else for(var Tt=0,Et=Ct.length;Et>Tt;Tt++)if(wt.prefix=Ct[Tt],"undefined"!=typeof t[wt.prefix+"CancelFullScreen"]){wt.ok=!0;break}wt.ok&&(wt.event=wt.prefix+"fullscreenchange",wt.is=function(){switch(this.prefix){case"":return t.fullScreen;case"webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},wt.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},wt.cancel=function(){return""===this.prefix?t.cancelFullScreen():t[this.prefix+"CancelFullScreen"]()});var St,kt={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},_t={top:"auto",left:"auto",className:""};!function(e,t){St=t()}(this,function(){function e(e,n){var i,o=t.createElement(e||"div");for(i in n)o[i]=n[i];return o}function n(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+n/i*100,a=Math.max(1-(1-e)/t*(100-r),e),s=d.substring(0,d.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return h[o]||(m.insertRule("@"+u+"keyframes "+o+"{0%{opacity:"+a+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",m.cssRules.length),h[o]=1),o}function r(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<p.length;i++)if(n=p[i]+t,r[n]!==o)return n;return r[t]!==o?t:void 0}function a(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]===o&&(e[i]=n[i])}return e}function u(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function l(e,t){return"string"==typeof e?e:e[t%e.length]}function c(e){return"undefined"==typeof this?new c(e):void(this.opts=s(e||{},c.defaults,g))}function f(){function t(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(e,i){function o(){return a(t("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function r(e,r,s){n(d,n(a(o(),{rotation:360/i.lines*e+"deg",left:~~r}),n(a(t("roundrect",{arcsize:i.corners}),{width:u,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),t("fill",{color:l(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}var s,u=i.length+i.width,c=2*u,f=2*-(i.width+i.length)+"px",d=a(o(),{position:"absolute",top:f,left:f});if(i.shadow)for(s=1;s<=i.lines;s++)r(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)r(s);return n(e,d)},c.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var d,p=["webkit","Moz","ms","O"],h={},m=function(){var i=e("style",{type:"text/css"});return n(t.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),g={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};c.defaults={},s(c.prototype,{spin:function(t){this.stop();var n,i,o=this,r=o.opts,s=o.el=a(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(t&&(t.insertBefore(s,t.firstChild||null),i=u(t),n=u(s),a(s,{left:("auto"==r.left?i.x-n.x+(t.offsetWidth>>1):parseInt(r.left,10)+l)+"px",top:("auto"==r.top?i.y-n.y+(t.offsetHeight>>1):parseInt(r.top,10)+l)+"px"})),s.setAttribute("role","progressbar"),o.lines(s,o.opts),!d){var c,f=0,p=(r.lines-1)*(1-r.direction)/2,h=r.fps,m=h/r.speed,g=(1-r.opacity)/(m*r.trail/100),v=m/r.lines;!function e(){f++;for(var t=0;t<r.lines;t++)c=Math.max(1-(f+(r.lines-t)*v)%m*g,r.opacity),o.opacity(s,t*r.direction+p,c,r);o.timeout=o.el&&setTimeout(e,~~(1e3/h))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=o),this},lines:function(t,o){function r(t,n){return a(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var s,u=0,c=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)s=a(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:d&&i(o.opacity,o.trail,c+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&n(s,a(r("#000","0 0 4px #000"),{top:"2px"})),n(t,n(s,r(l(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var v=a(e("group"),{behavior:"url(#default#VML)"});return!r(v,"transform")&&v.adj?f():d=r(v,"animation"),c});var It,jt,Nt=i(e),Lt=i(t),Pt="quirks"===n.hash.replace("#",""),At=bt.csstransforms3d,Mt=At&&!Pt,Ot=At||"CSS1Compat"===t.compatMode,Ft=wt.ok,Dt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),zt=!Mt||Dt,qt=navigator.msPointerEnabled,Ht="onwheel"in t.createElement("div")?"wheel":t.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Wt=250,Rt=300,Bt=1400,$t=5e3,Ut=2,Xt=64,Yt=500,Vt=333,Qt="$stageFrame",Kt="$navDotFrame",Gt="$navThumbFrame",Zt="auto",Jt=r([.1,0,.25,1]),en=99999,tn="50%",nn={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Ut,glimpse:0,fit:"contain",position:tn,thumbposition:tn,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Xt,thumbheight:Xt,thumbmargin:Ut,thumbborderwidth:Ut,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Rt,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},on={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};P.stop=function(e){P.ii[e]=!1};var rn,an,sn,un;jQuery.Fotorama=function(e,o){function r(){i.each(Sn,function(e,t){if(!t.i){t.i=pi++;var n=k(t.video,!0);if(n){var i={};t.video=n,t.img||t.thumb?t.thumbsReady=!0:i=_(t,Sn,li),I(Sn,{img:i.img,thumb:i.thumb},t.i,li)}}})}function a(e){return Zn[e]||li.fullScreen}function u(e){var t="keydown."+ue,n=ue+ci,i="keydown."+n,r="resize."+n+" orientationchange."+n;e?(Lt.on(i,function(e){var t,n;jn&&27===e.keyCode?(t=!0,pn(jn,!0,!0)):(li.fullScreen||o.keyboard&&!li.index)&&(27===e.keyCode?(t=!0,li.cancelFullScreen()):e.shiftKey&&32===e.keyCode&&a("space")||37===e.keyCode&&a("left")||38===e.keyCode&&a("up")?n="<":32===e.keyCode&&a("space")||39===e.keyCode&&a("right")||40===e.keyCode&&a("down")?n=">":36===e.keyCode&&a("home")?n="<<":35===e.keyCode&&a("end")&&(n=">>")),(t||n)&&K(e),n&&li.show({index:n,slow:e.altKey,user:!0})}),li.index||Lt.off(t).on(t,"textarea, input, select",function(e){!jt.hasClass(le)&&e.stopPropagation()}),Nt.on(r,li.resize)):(Lt.off(i),Nt.off(r))}function l(t){t!==l.f&&(t?(e.html("").addClass(ue+" "+fi).append(vi).before(mi).before(gi),ae(li)):(vi.detach(),mi.detach(),gi.detach(),e.html(hi.urtext).removeClass(fi),se(li)),u(t),l.f=t)}function d(){Sn=li.data=Sn||W(o.data)||j(e),kn=li.size=Sn.length,!En.ok&&o.shuffle&&H(Sn),r(),Fi=E(Fi),kn&&l(!0)}function h(){var e=2>kn&&!o.enableifsingleframe||jn;qi.noMove=e||Un,qi.noSwipe=e||!o.swipe,!Qn&&xi.toggleClass(_e,!o.click&&!qi.noMove&&!qi.noSwipe),qt&&vi.toggleClass(ye,!qi.noSwipe)}function x(e){e===!0&&(e=""),o.autoplay=Math.max(+e||$t,1.5*Vn)}function b(){function e(e,n){t[e?"add":"remove"].push(n)}li.options=o=B(o),Un="crossfade"===o.transition||"dissolve"===o.transition,qn=o.loop&&(kn>2||Un&&(!Qn||"slide"!==Qn)),Vn=+o.transitionduration||Rt,Gn="rtl"===o.direction,Zn=i.extend({},o.keyboard&&on,o.keyboard);var t={add:[],remove:[]};kn>1||o.enableifsingleframe?(Hn=o.nav,Rn="top"===o.navposition,t.remove.push(Qe),Ti.toggle(!!o.arrows)):(Hn=!1,Ti.hide()),Be(),In=new St(i.extend(kt,o.spinner,_t,{direction:Gn?-1:1})),Pt(),At(),o.autoplay&&x(o.autoplay),Xn=p(o.thumbwidth)||Xt,Yn=p(o.thumbheight)||Xt,Hi.ok=Ri.ok=o.trackpad&&!zt,h(),rn(o,[zi]),Wn="thumbs"===Hn,Wn?(ft(kn,"navThumb"),_n=Ii,ui=Gt,O(mi,i.Fotorama.jst.style({w:Xn,h:Yn,b:o.thumbborderwidth,m:o.thumbmargin,s:ci,q:!Ot})),Si.addClass(De).removeClass(Fe)):"dots"===Hn?(ft(kn,"navDot"),_n=_i,ui=Kt,Si.addClass(Fe).removeClass(De)):(Hn=!1,Si.removeClass(De+" "+Fe)),Hn&&(Rn?Ei.insertBefore(yi):Ei.insertAfter(yi),Ct.nav=!1,Ct(_n,ki,"nav")),Bn=o.allowfullscreen,Bn?(Ni.prependTo(yi),$n=Ft&&"native"===Bn):(Ni.detach(),$n=!1),e(Un,he),e(!Un,me),e(!o.captions,we),e(Gn,xe),e("always"!==o.arrows,Ce),Kn=o.shadows&&!zt,e(!Kn,ve),vi.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),Di=i.extend({},o)}function T(e){return 0>e?(kn+e%kn)%kn:e>=kn?e%kn:e}function E(e){return s(e,0,kn-1)}function S(e){return qn?T(e):E(e)}function N(e){return!!(e>0||qn)&&e-1}function X(e){return!!(kn-1>e||qn)&&e+1}function Z(){qi.min=qn?-1/0:-v(kn-1,zi.w,o.margin,Pn),qi.max=qn?1/0:-v(0,zi.w,o.margin,Pn),qi.snap=zi.w+o.margin}function te(){Wi.min=Math.min(0,zi.nw-ki.width()),Wi.max=0,ki.toggleClass(_e,!(Wi.noMove=Wi.min===Wi.max))}function ne(e,t,n){if("number"==typeof e){e=new Array(e);var o=!0}return i.each(e,function(e,i){if(o&&(i=e),"number"==typeof i){var r=Sn[T(i)];if(r){var a="$"+t+"Frame",s=r[a];n.call(this,e,i,r,s,a,s&&s.data())}}})}function re(e,t,n,i){(!Jn||"*"===Jn&&i===zn)&&(e=g(o.width)||g(e)||Yt,t=g(o.height)||g(t)||Vt,li.resize({width:e,ratio:o.ratio||n||e/t},0,i!==zn&&"*"))}function We(e,t,n,r,a,s){ne(e,t,function(e,u,l,c,f,d){function p(e){var t=T(u);an(e,{index:t,src:C,frame:Sn[t]})}function h(){x.remove(),i.Fotorama.cache[C]="error",l.html&&"stage"===t||!E||E===C?(!C||l.html||v?"stage"===t&&(c.trigger("f:load").removeClass(et+" "+Je).addClass(tt),p("load"),re()):(c.trigger("f:error").removeClass(et).addClass(Je),p("error")),d.state="error",!(kn>1&&Sn[u]===l)||l.html||l.deleted||l.video||v||(l.deleted=!0,li.splice(u,1))):(l[w]=C=E,We([u],t,n,r,a,!0))}function m(){i.Fotorama.measures[C]=b.measures=i.Fotorama.measures[C]||{width:y.width,height:y.height,ratio:y.width/y.height},re(b.measures.width,b.measures.height,b.measures.ratio,u),x.off("load error").addClass(rt+(v?" "+at:"")).prependTo(c),M(x,(i.isFunction(n)?n():n)||zi,r||l.fit||o.fit,a||l.position||o.position),i.Fotorama.cache[C]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(et+" "+Je).addClass(tt+" "+(v?nt:it)),"stage"===t?p("load"):(l.thumbratio===Zt||!l.thumbratio&&o.thumbratio===Zt)&&(l.thumbratio=b.measures.ratio,Cn())},0)}function g(){var e=10;P(function(){return!ai||!e--&&!zt},function(){m()})}if(c){var v=li.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===t;if(!d.$img||s||v){var y=new Image,x=i(y),b=x.data();d[v?"$full":"$img"]=x;var w="stage"===t?v?"full":"img":"thumb",C=l[w],E=v?null:l["stage"===t?"thumb":"img"];if("navThumb"===t&&(c=d.$wrap),!C)return void h();i.Fotorama.cache[C]?!function e(){"error"===i.Fotorama.cache[C]?h():"loaded"===i.Fotorama.cache[C]?setTimeout(g,0):setTimeout(e,100)}():(i.Fotorama.cache[C]="*",x.on("load",g).on("error",h)),d.state="",y.src=C}}})}function Re(e){Oi.append(In.spin().el).appendTo(e)}function Be(){Oi.detach(),In&&In.stop()}function $e(){var e=Nn[Qt];e&&!e.data().state&&(Re(e),e.on("f:load f:error",function(){e.off("f:load f:error"),Be()}))}function ot(e){V(e,xn),Q(e,function(){setTimeout(function(){R(Si)},0),Bt({time:Vn,guessIndex:i(this).data().eq,minMax:Wi})})}function ft(e,t){ne(e,t,function(e,n,o,r,a,s){if(!r){r=o[a]=vi[a].clone(),s=r.data(),s.data=o;var u=r[0];"stage"===t?(o.html&&i('<div class="'+ct+'"></div>').append(o._html?i(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),o.caption&&i(q(ht,q(mt,o.caption))).appendTo(r),o.video&&r.addClass(Se).append(Pi.clone()),Q(u,function(){setTimeout(function(){R(yi)},0),gn({index:s.eq,user:!0})}),bi=bi.add(r)):"navDot"===t?(ot(u),_i=_i.add(r)):"navThumb"===t&&(ot(u),s.$wrap=r.children(":first"),Ii=Ii.add(r),o.video&&s.$wrap.append(Pi.clone()))}})}function yt(e,t,n,i){return e&&e.length&&M(e,t,n,i)}function xt(e){ne(e,"stage",function(e,t,n,r,a,s){if(r){var u=T(t),l=n.fit||o.fit,c=n.position||o.position;s.eq=u,$i[Qt][u]=r.css(i.extend({left:Un?0:v(t,zi.w,o.margin,Pn)},Un&&f(0))),L(r[0])&&(r.appendTo(xi),pn(n.$video)),yt(s.$img,zi,l,c),yt(s.$full,zi,l,c)}})}function bt(e,t){if("thumbs"===Hn&&!isNaN(e)){var n=-e,r=-e+zi.nw;Ii.each(function(){var e=i(this),a=e.data(),s=a.eq,u=function(){return{h:Yn,w:a.w}},l=u(),c=Sn[s]||{},f=c.thumbfit||o.thumbfit,d=c.thumbposition||o.thumbposition;l.w=a.w,a.l+a.w<n||a.l>r||yt(a.$img,l,f,d)||t&&We([s],"navThumb",u,f,d)})}}function Ct(e,t,n){if(!Ct[n]){var r="nav"===n&&Wn,a=0;t.append(e.filter(function(){for(var e,t=i(this),n=t.data(),o=0,r=Sn.length;r>o;o++)if(n.data===Sn[o]){e=!0,n.eq=o;break}return e||t.remove()&&!1}).sort(function(e,t){return i(e).data().eq-i(t).data().eq}).each(function(){if(r){var e=i(this),t=e.data(),n=Math.round(Yn*t.data.thumbratio)||Xn;t.l=a,t.w=n,e.css({width:n}),a+=n+o.thumbmargin}})),Ct[n]=!0}}function Tt(e){return e-Ui>zi.w/3}function Et(e){return!(qn||Fi+e&&Fi-kn+e||jn)}function Pt(){var e=Et(0),t=Et(1);wi.toggleClass(Ne,e).attr(Y(e)),Ci.toggleClass(Ne,t).attr(Y(t))}function At(){Hi.ok&&(Hi.prevent={"<":Et(0),">":Et(1)})}function Dt(e){var t,n,i=e.data();return Wn?(t=i.l,n=i.w):(t=e.position().left,n=e.width()),{c:t+n/2,min:-t+10*o.thumbmargin,max:-t+zi.w-n-10*o.thumbmargin}}function Ht(e){var t=Nn[ui].data();J(ji,{time:1.2*e,pos:t.l,width:t.w-2*o.thumbborderwidth})}function Bt(e){var t=Sn[e.guessIndex][ui];if(t){var n=Wi.min!==Wi.max,i=e.minMax||n&&Dt(Nn[ui]),o=n&&(e.keep&&Bt.l?Bt.l:s((e.coo||zi.nw/2)-Dt(t).c,i.min,i.max)),r=n&&s(o,Wi.min,Wi.max),a=1.1*e.time;J(ki,{time:a,pos:r||0,onEnd:function(){bt(r,!0)}}),dn(Si,F(r,Wi.min,Wi.max)),Bt.l=o}}function Ut(){Jt(ui),Bi[ui].push(Nn[ui].addClass(Ve))}function Jt(e){for(var t=Bi[e];t.length;)t.shift().removeClass(Ve)}function tn(e){var t=$i[e];i.each(Ln,function(e,n){delete t[T(n)]}),i.each(t,function(e,n){delete t[e],n.detach()})}function nn(e){Pn=An=Fi;var t=Nn[Qt];t&&(Jt(Qt),Bi[Qt].push(t.addClass(Ve)),e||li.show.onEnd(!0),w(xi,0,!0),tn(Qt),xt(Ln),Z(),te())}function rn(e,t){e&&i.each(t,function(t,n){n&&i.extend(n,{width:e.width||n.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:$(e.ratio)})})}function an(t,n){e.trigger(ue+":"+t,[li,n])}function sn(){clearTimeout(un.t),ai=1,o.stopautoplayontouch?li.stopAutoplay():ii=!0}function un(){ai&&(o.stopautoplayontouch||(ln(),cn()),un.t=setTimeout(function(){ai=0},Rt+Wt))}function ln(){ii=!(!jn&&!oi)}function cn(){if(clearTimeout(cn.t),P.stop(cn.w),!o.autoplay||ii)return void(li.autoplay&&(li.autoplay=!1,an("stopautoplay")));li.autoplay||(li.autoplay=!0,an("startautoplay"));var e=Fi,t=Nn[Qt].data();cn.w=P(function(){return t.state||e!==Fi},function(){cn.t=setTimeout(function(){if(!ii&&e===Fi){var t=Dn,n=Sn[t][Qt].data();cn.w=P(function(){return n.state||t!==Dn},function(){ii||t!==Dn||li.show(qn?G(!Gn):Dn)})}},o.autoplay)})}function fn(){li.fullScreen&&(li.fullScreen=!1,Ft&&wt.cancel(di),jt.removeClass(le),It.removeClass(le),e.removeClass(Ge).insertAfter(gi),zi=i.extend({},ri),pn(jn,!0,!0),yn("x",!1),li.resize(),We(Ln,"stage"),R(Nt,ti,ei),an("fullscreenexit"))}function dn(e,t){Kn&&(e.removeClass(Xe+" "+Ye),t&&!jn&&e.addClass(t.replace(/^|\s/g," "+Ue+"--")))}function pn(e,t,n){t&&(vi.removeClass(pe),jn=!1,h()),e&&e!==jn&&(e.remove(),an("unloadvideo")),n&&(ln(),cn())}function hn(e){vi.toggleClass(ge,e)}function mn(e){if(!qi.flow){var t=e?e.pageX:mn.x,n=t&&!Et(Tt(t))&&o.click;mn.p!==n&&yi.toggleClass(Ie,n)&&(mn.p=n,mn.x=t)}}function gn(e){clearTimeout(gn.t),o.clicktransition&&o.clicktransition!==o.transition?setTimeout(function(){var t=o.transition;li.setOptions({transition:o.clicktransition}),Qn=t,gn.t=setTimeout(function(){li.show(e)},10)},0):li.show(e)}function vn(e,t){var n=e.target,r=i(n);r.hasClass(dt)?li.playVideo():n===Li?li.toggleFullScreen():jn?n===Mi&&pn(jn,!0,!0):t?hn():o.click&&gn({index:e.shiftKey||G(Tt(e._x)),slow:e.altKey,user:!0})}function yn(e,t){qi[e]=Wi[e]=t}function xn(e){var t=i(this).data().eq;gn({index:t,slow:e.altKey,user:!0,coo:e._x-Si.offset().left})}function bn(e){gn({index:Ti.index(this)?">":"<",slow:e.altKey,user:!0})}function wn(e){Q(e,function(){setTimeout(function(){R(yi)},0),hn(!1)})}function Cn(){if(d(),b(),!Cn.i){Cn.i=!0;var e=o.startindex;(e||o.hash&&n.hash)&&(zn=D(e||n.hash.replace(/^#/,""),Sn,0===li.index||e,e)),Fi=Pn=An=Mn=zn=S(zn)||0}if(kn){if(Tn())return;jn&&pn(jn,!0),Ln=[],tn(Qt),Cn.ok=!0,li.show({index:Fi,time:0}),li.resize()}else li.destroy()}function Tn(){return!Tn.f===Gn?(Tn.f=Gn,Fi=kn-1-Fi,li.reverse(),!0):void 0}function En(){En.ok||(En.ok=!0,an("ready"))}It=i("html"),jt=i("body");var Sn,kn,_n,In,jn,Nn,Ln,Pn,An,Mn,On,Fn,Dn,zn,qn,Hn,Wn,Rn,Bn,$n,Un,Xn,Yn,Vn,Qn,Kn,Gn,Zn,Jn,ei,ti,ni,ii,oi,ri,ai,si,ui,li=this,ci=i.now(),fi=ue+ci,di=e[0],pi=1,hi=e.data(),mi=i("<style></style>"),gi=i(q(Ke)),vi=i(q(ce)),yi=i(q(Te)).appendTo(vi),xi=(yi[0],i(q(ke)).appendTo(yi)),bi=i(),wi=i(q(je+" "+Le+vt)),Ci=i(q(je+" "+Pe+vt)),Ti=wi.add(Ci).appendTo(yi),Ei=i(q(Me)),Si=i(q(Ae)).appendTo(Ei),ki=i(q(Oe)).appendTo(Si),_i=i(),Ii=i(),ji=(xi.data(),
ki.data(),i(q(lt)).appendTo(ki)),Ni=i(q(Ze+vt)),Li=Ni[0],Pi=i(q(dt)),Ai=i(q(pt)).appendTo(yi),Mi=Ai[0],Oi=i(q(gt)),Fi=!1,Di={},zi={},qi={},Hi={},Wi={},Ri={},Bi={},$i={},Ui=0,Xi=[];vi[Qt]=i(q(Ee)),vi[Gt]=i(q(ze+" "+He+vt,q(ut))),vi[Kt]=i(q(ze+" "+qe+vt,q(st))),Bi[Qt]=[],Bi[Gt]=[],Bi[Kt]=[],$i[Qt]={},vi.addClass(Mt?de:fe).toggleClass(ge,!o.controlsonstart),hi.fotorama=this,li.startAutoplay=function(e){return li.autoplay?this:(ii=oi=!1,x(e||o.autoplay),cn(),this)},li.stopAutoplay=function(){return li.autoplay&&(ii=oi=!0,cn()),this},li.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?An+1:"<"===t?An-1:"<<"===t?0:">>"===t?kn-1:t,t=isNaN(t)?D(t,Sn,!0):t,t="undefined"==typeof t?Fi||0:t,li.activeIndex=Fi=S(t),On=N(Fi),Fn=X(Fi),Dn=T(Fi+(Gn?-1:1)),Ln=[Fi,On,Fn],An=qn?t:Fi;var n=Math.abs(Mn-An),i=C(e.time,function(){return Math.min(Vn*(1+(n-1)/12),2*Vn)}),r=e.overPos;e.slow&&(i*=10);var a=Nn;li.activeFrame=Nn=Sn[Fi];var u=a===Nn&&!e.user;pn(jn,Nn.i!==Sn[T(Pn)].i),ft(Ln,"stage"),xt(zt?[An]:[An,N(An),X(An)]),yn("go",!0),u||an("show",{user:e.user,time:i}),ii=!0;var l=li.show.onEnd=function(t){if(!l.ok){if(l.ok=!0,t||nn(!0),u||an("showend",{user:e.user}),!t&&Qn&&Qn!==o.transition)return li.setOptions({transition:Qn}),void(Qn=!1);$e(),We(Ln,"stage"),yn("go",!1),At(),mn(),ln(),cn()}};if(Un){var c=Nn[Qt],f=Fi!==Mn?Sn[Mn][Qt]:null;ee(c,f,bi,{time:i,method:o.transition,onEnd:l},Xi)}else J(xi,{pos:-v(An,zi.w,o.margin,Pn),overPos:r,time:i,onEnd:l});if(Pt(),Hn){Ut();var d=E(Fi+s(An-Mn,-1,1));Bt({time:i,coo:d!==Fi&&e.coo,guessIndex:"undefined"!=typeof e.coo?d:Fi,keep:u}),Wn&&Ht(i)}return ni="undefined"!=typeof Mn&&Mn!==Fi,Mn=Fi,o.hash&&ni&&!li.eq&&A(Nn.id||Fi+1),this},li.requestFullScreen=function(){return Bn&&!li.fullScreen&&(ei=Nt.scrollTop(),ti=Nt.scrollLeft(),R(Nt),yn("x",!0),ri=i.extend({},zi),e.addClass(Ge).appendTo(jt.addClass(le)),It.addClass(le),pn(jn,!0,!0),li.fullScreen=!0,$n&&wt.request(di),li.resize(),We(Ln,"stage"),$e(),an("fullscreenenter")),this},li.cancelFullScreen=function(){return $n&&wt.is()?wt.cancel(t):fn(),this},li.toggleFullScreen=function(){return li[(li.fullScreen?"cancel":"request")+"FullScreen"]()},U(t,wt.event,function(){!Sn||wt.is()||jn||fn()}),li.resize=function(e){if(!Sn)return this;var t=arguments[1]||0,n=arguments[2];rn(li.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:B(e),[zi,n||li.fullScreen||o]);var i=zi.width,r=zi.height,a=zi.ratio,u=Nt.height()-(Hn?Si.height():0);return g(i)&&(vi.addClass(be).css({width:i,minWidth:zi.minwidth||0,maxWidth:zi.maxwidth||en}),i=zi.W=zi.w=vi.width(),zi.nw=Hn&&m(o.navwidth,i)||i,o.glimpse&&(zi.w-=Math.round(2*(m(o.glimpse,i)||0))),xi.css({width:zi.w,marginLeft:(zi.W-zi.w)/2}),r=m(r,u),r=r||a&&i/a,r&&(i=Math.round(i),r=zi.h=Math.round(s(r,m(zi.minheight,u),m(zi.maxheight,u))),yi.stop().animate({width:i,height:r},t,function(){vi.removeClass(be)}),nn(),Hn&&(Si.stop().animate({width:zi.nw},t),Bt({guessIndex:Fi,time:t,keep:!0}),Wn&&Ct.nav&&Ht(t)),Jn=n||!0,En())),Ui=yi.offset().left,this},li.setOptions=function(e){return i.extend(o,e),Cn(),this},li.shuffle=function(){return Sn&&H(Sn)&&Cn(),this},li.destroy=function(){return li.cancelFullScreen(),li.stopAutoplay(),Sn=li.data=null,l(),Ln=[],tn(Qt),Cn.ok=!1,this},li.playVideo=function(){var e=Nn,t=e.video,n=Fi;return"object"==typeof t&&e.videoReady&&($n&&li.fullScreen&&li.cancelFullScreen(),P(function(){return!wt.is()||n!==Fi},function(){n===Fi&&(e.$video=e.$video||i(i.Fotorama.jst.video(t)),e.$video.appendTo(e[Qt]),vi.addClass(pe),jn=e.$video,h(),Ti.blur(),Ni.blur(),an("loadvideo"))})),this},li.stopVideo=function(){return pn(jn,!0,!0),this},yi.on("mousemove",mn),qi=ie(xi,{onStart:sn,onMove:function(e,t){dn(yi,t.edge)},onTouchEnd:un,onEnd:function(e){dn(yi);var t=(qt&&!si||e.touch)&&o.arrows&&"always"!==o.arrows;if(e.moved||t&&e.pos!==e.newPos&&!e.control){var n=y(e.newPos,zi.w,o.margin,Pn);li.show({index:n,time:Un?Vn:e.time,overPos:e.overPos,user:!0})}else e.aborted||e.control||vn(e.startEvent,t)},timeLow:1,timeHigh:1,friction:2,select:"."+Qe+", ."+Qe+" *",$wrap:yi}),Wi=ie(ki,{onStart:sn,onMove:function(e,t){dn(Si,t.edge)},onTouchEnd:un,onEnd:function(e){function t(){Bt.l=e.newPos,ln(),cn(),bt(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(ii=!0,J(ki,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),bt(e.newPos),Kn&&dn(Si,F(e.newPos,Wi.min,Wi.max))):t();else{var n=e.$target.closest("."+ze,ki)[0];n&&xn.call(n,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Si}),Hi=oe(yi,{shift:!0,onEnd:function(e,t){sn(),un(),li.show({index:t,slow:e.altKey})}}),Ri=oe(Si,{onEnd:function(e,t){sn(),un();var n=w(ki)+.25*t;ki.css(c(s(n,Wi.min,Wi.max))),Kn&&dn(Si,F(n,Wi.min,Wi.max)),Ri.prevent={"<":n>=Wi.max,">":n<=Wi.min},clearTimeout(Ri.t),Ri.t=setTimeout(function(){Bt.l=n,bt(n,!0)},Wt),bt(n)}}),vi.hover(function(){setTimeout(function(){ai||hn(!(si=!0))},0)},function(){si&&hn(!(si=!1))}),z(Ti,function(e){K(e),bn.call(this,e)},{onStart:function(){sn(),qi.control=!0},onTouchEnd:un}),Ti.each(function(){V(this,function(e){bn.call(this,e)}),wn(this)}),V(Li,li.toggleFullScreen),wn(Li),i.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){li[t]=function(){return Sn=Sn||[],"load"!==t?Array.prototype[t].apply(Sn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Sn=W(arguments[0])),Cn(),li}}),Cn()},i.fn.fotorama=function(t){return this.each(function(){var n=this,o=i(this),r=o.data(),a=r.fotorama;a?a.setOptions(t,!0):P(function(){return!N(n)},function(){r.urtext=o.html(),new i.Fotorama(o,i.extend({},nn,e.fotoramaDefaults,t,r))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(e){var t,n="";return xt.escape,n+=".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},i.Fotorama.jst.video=function(e){function t(){n+=i.call(arguments,"")}var n="",i=(xt.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',t(("youtube"==e.type?e.p+"youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?e.p+"player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>\n'},i(function(){i("."+ue+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),!function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,function(e,t){"use strict";function n(n,r,s){function u(e,t,i){var o,r="$()."+n+'("'+t+'")';return e.each(function(e,u){var l=s.data(u,n);if(!l)return void a(n+" not initialized. Cannot call methods, i.e. "+r);var c=l[t];if(!c||"_"==t.charAt(0))return void a(r+" is not a valid method");var f=c.apply(l,i);o=void 0===o?f:o}),void 0!==o?o:e}function l(e,t){e.each(function(e,i){var o=s.data(i,n);o?(o.option(t),o._init()):(o=new r(i,t),s.data(i,n,o))})}s=s||t||e.jQuery,s&&(r.prototype.option||(r.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),s.fn[n]=function(e){if("string"==typeof e){var t=o.call(arguments,1);return u(this,e,t)}return l(this,e),this},i(s))}function i(e){!e||e&&e.bridget||(e.bridget=n)}var o=Array.prototype.slice,r=e.console,a="undefined"==typeof r?function(){}:function(e){r.error(e)};return i(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{},i=n[e]=n[e]||{};return i[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,o=n[i];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];o;){var a=r&&r[o];a&&(this.off(e,o),delete r[o]),o.apply(this,t),i+=a?0:1,o=n[i]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function e(e){var t=parseFloat(e),n=-1==e.indexOf("%")&&!isNaN(t);return n&&t}function t(){}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;l>t;t++){var n=u[t];e[n]=0}return e}function i(e){var t=getComputedStyle(e);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function o(){if(!c){c=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var o=i(t);r.isBoxSizeOuter=a=200==e(o.width),n.removeChild(t)}}function r(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var r=i(t);if("none"==r.display)return n();var s={};s.width=t.offsetWidth,s.height=t.offsetHeight;for(var c=s.isBorderBox="border-box"==r.boxSizing,f=0;l>f;f++){var d=u[f],p=r[d],h=parseFloat(p);s[d]=isNaN(h)?0:h}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,x=s.borderLeftWidth+s.borderRightWidth,b=s.borderTopWidth+s.borderBottomWidth,w=c&&a,C=e(r.width);C!==!1&&(s.width=C+(w?0:m+x));var T=e(r.height);return T!==!1&&(s.height=T+(w?0:g+b)),s.innerWidth=s.width-(m+x),s.innerHeight=s.height-(g+b),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?t:function(e){console.error(e)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=u.length,c=!1;return r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var e=function(){var e=Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n],o=i+"MatchesSelector";if(e[o])return o}}();return function(t,n){return t[e](n)}}),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,function(e,t){var n={};n.extend=function(e,t){for(var n in t)e[n]=t[n];return e},n.modulo=function(e,t){return(e%t+t)%t},n.makeArray=function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(!i)return void o.push(e);t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}}),o},n.debounceMethod=function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,t),delete r[o]},n||100)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?e():document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var i=e.console;return n.htmlInit=function(t,o){n.docReady(function(){var r=n.toDashed(o),a="data-"+r,s=document.querySelectorAll("["+a+"]"),u=document.querySelectorAll(".js-"+r),l=n.makeArray(s).concat(n.makeArray(u)),c=a+"-options",f=e.jQuery;l.forEach(function(e){var n,r=e.getAttribute(a)||e.getAttribute(c);try{n=r&&JSON.parse(r)}catch(t){return void(i&&i.error("Error parsing "+a+" on "+e.className+": "+t))}var s=new t(e,n);f&&f.data(e,o,s)})})},n}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";function n(e){for(var t in e)return!1;return t=null,!0}function i(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var r=document.documentElement.style,a="string"==typeof r.transition?"transition":"WebkitTransition",s="string"==typeof r.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],l={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},c=i.prototype=Object.create(e.prototype);c.constructor=i,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.getSize=function(){this.size=t(this.element)},c.css=function(e){var t=this.element.style;for(var n in e){var i=l[n]||n;t[i]=e[n]}},c.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],r=this.layout.size,a=-1!=i.indexOf("%")?parseFloat(i)/100*r.width:parseInt(i,10),s=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=t?r.paddingLeft:r.paddingRight,s-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=s},c.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",a=n?"right":"left",s=this.position.x+e[o];t[r]=this.getXValue(s),t[a]="";var u=i?"paddingTop":"paddingBottom",l=i?"top":"bottom",c=i?"bottom":"top",f=this.position.y+e[u];t[l]=this.getYValue(f),t[c]="",this.css(t),this.emitEvent("layout",[this])},c.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},c.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},c._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(e,10),r=parseInt(t,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(e,t),a&&!this.isTransitioning)return void this.layoutPosition();var s=e-n,u=t-i,l={};l.transform=this.getTranslate(s,u),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(e,t){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return e=n?e:-e,t=i?t:-t,"translate3d("+e+"px, "+t+"px, 0)"},c.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},c._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},c.transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var f="opacity,"+o(s);c.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:f,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},c.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},c.onotransitionend=function(e){this.ontransitionend(e)};var d={"-webkit-transform":"transform"};c.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=d[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],n(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd){var o=t.onEnd[i];o.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},c._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(p)},c.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},c.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r){return t(e,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,n,i,o){"use strict";function r(e,t){var n=i.getQueryElement(e);if(!n)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(n||e)));this.element=n,l&&(this.$element=l(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var o=++f;this.element.outlayerGUID=o,d[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function a(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}function s(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=h[i]||1;return n*o}var u=e.console,l=e.jQuery,c=function(){},f=0,d={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var p=r.prototype;i.extend(p,t.prototype),p.option=function(e){i.extend(this.options,e)},p._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},p._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");e&&this.bindResize()},p.reloadItems=function(){this.items=this._itemize(this.element.children)},p._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var r=t[o],a=new n(r,this);i.push(a)}return i},p._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},p.getItemElements=function(){return this.items.map(function(e){return e.element})},p.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},p._init=p.layout,p._resetLayout=function(){this.getSize()},p.getSize=function(){this.size=n(this.element)},p._getMeasurement=function(e,t){var i,o=this.options[e];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[e]=i?n(i)[t]:o):this[e]=0},p.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},p._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},p._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},p._getItemLayoutPosition=function(){return{x:0,y:0}},p._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},p.updateStagger=function(){var e=this.options.stagger;return null===e||void 0===e?void(this.stagger=0):(this.stagger=s(e),this.stagger)},p._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},p._postLayout=function(){this.resizeContainer()},p.resizeContainer=function(){var e=this._getOption("resizeContainer");if(e){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},p._getContainerSize=c,p._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},p._emitCompleteOnItems=function(e,t){function n(){o.dispatchEvent(e+"Complete",null,[t])}function i(){a++,a==r&&n()}var o=this,r=t.length;if(!t||!r)return void n();var a=0;t.forEach(function(t){t.once(e,i)})},p.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),l)if(this.$element=this.$element||l(this.element),t){var o=l.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},p.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},p.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},p.stamp=function(e){e=this._find(e),e&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},p.unstamp=function(e){e=this._find(e),e&&e.forEach(function(e){i.removeFrom(this.stamps,e),this.unignore(e)},this)},p._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)):void 0},p._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},p._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},p._manageStamp=c,p._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e),r={left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom};return r},p.handleEvent=i.handleEvent,p.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},p.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},p.onresize=function(){this.resize()},i.debounceMethod(r,"onresize",100),p.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},p.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},p.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},p.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},p.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},p.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.reveal()})}},p.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.hide()})}},p.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},p.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},p.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},p.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach(function(e){var n=this.getItem(e);n&&t.push(n)},this),t},p.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),i.removeFrom(this.items,e)},this)},p.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete d[t],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(e){e=i.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&d[t]},r.create=function(e,t){var n=a(r);return n.defaults=i.extend({},r.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},r.compatOptions),n.namespace=e,n.data=r.data,n.Item=a(o),i.htmlInit(n,e),l&&l.bridget&&l.bridget(e,n),n};var h={ms:1,s:1e3};return r.Item=o,r}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var n=e.create("masonry");return n.compatOptions.fitWidth="isFitWidth",n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,a=i-o%i,s=a&&1>a?"round":"floor";r=Math[s](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth"),n=e?this.element.parentNode:this.element,i=t(n);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=t&&1>t?"round":"ceil",i=Math[n](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),r=Math.min.apply(Math,o),a=o.indexOf(r),s={x:this.columnWidth*a,y:r},u=r+e.size.outerHeight,l=this.cols+1-o.length,c=0;l>c;c++)this.colYs[a+c]=u;return s},n.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;n>i;i++){var o=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,o)}return t},n.prototype._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),o=this._getOption("originLeft"),r=o?i.left:i.right,a=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var u=Math.floor(a/this.columnWidth);u-=a%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var l=this._getOption("originTop"),c=(l?i.top:i.bottom)+n.outerHeight,f=s;u>=f;f++)this.colYs[f]=Math.max(c,this.colYs[f])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},n.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n}),$(function(){function e(){var e=$(".search-enter-text").val();$.ajax({url:"https://pixabay.com/api/?key=3630931-670473688b01fdf5a6341f310&q=yellow+flowers&image_type=photo&cat=&min_width=&min_height=&q="+e+"&order=popular",mathod:"POST",dataType:"jsonp",success:function(e){console.log("Load information")},error:function(){console.log("Appired problem!!")}}).done(function(e){var n=$(e.hits),i=tmpl(t,{data:n});$(".activity").append('<div class="result"></div>');$(".result").append(i)})}var t=$("#activity-pic-containar").html();e(),$(".search-button").click(function(){$(".result").remove(".result"),e()}),$(".search-enter-text").keypress(function(t){13===t.keyCode&&($(".result").remove(".result"),t.preventDefault(),e())}),$("#activity-pic-containar").masonry({itemSelector:".item"})}),function(){var e={};this.tmpl=function t(n,i){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return i?o(i):o}}();