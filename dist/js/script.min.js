fotoramaVersion="4.6.4",function(t,e,n,i,o){"use strict";function r(t){var e="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[e]){var n=function(t,e){var n=[null,null],i=[null,null],o=[null,null],r=function(r,a){return o[a]=3*t[a],i[a]=3*(e[a]-t[a])-o[a],n[a]=1-o[a]-i[a],r*(o[a]+r*(i[a]+r*n[a]))},a=function(t){return o[0]+t*(2*i[0]+3*n[0]*t)},s=function(t){for(var e,n=t,i=0;++i<14&&(e=r(n,0)-t,!(Math.abs(e)<.001));)n-=e/a(n);return n};return function(t){return r(s(t),1)}};i.easing[e]=function(e,i,o,r,a){return r*n([t[0],t[1]],[t[2],t[3]])(i/a)+o}}return e}function a(){}function s(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function u(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function l(t){return We?+u(t.css("transform")):+t.css("left").replace("px","")}function c(t){var e={};return We?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function h(t){return{"transition-duration":t+"ms"}}function d(t,e){return isNaN(t)?e:t}function f(t,e){return d(+String(t).replace(e||"px",""))}function p(t){return/%$/.test(t)?f(t,"%"):o}function m(t,e){return d(p(t)/100*e,f(t))}function v(t){return(!isNaN(f(t))||!isNaN(f(t,"%")))&&t}function g(t,e,n,i){return(t-(i||0))*(e+(n||0))}function y(t,e,n,i){return-Math.round(t/(e+(n||0))-(i||0))}function w(t){var e=t.data();if(!e.tEnd){var n=t[0],i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};Y(n,i[be.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0}}function b(t,e,n,i){var o,r=t.data();r&&(r.onEndFn=function(){o||(o=!0,clearTimeout(r.tT),n())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*i),w(t))}function x(t,e){if(t.length){var n=t.data();We?(t.css(h(0)),n.onEndFn=a,clearTimeout(n.tT)):t.stop();var i=_(e,function(){return l(t)});return t.css(c(i)),i}}function _(){for(var t,e=0,n=arguments.length;n>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function T(t,e){return Math.round(t+(e-t)/1.5)}function E(){return E.p=E.p||("https:"===n.protocol?"https://":"http://"),E.p}function C(t){var n=e.createElement("a");return n.href=t,n}function S(t,e){if("string"!=typeof t)return t;t=C(t);var n,i;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var o=n.indexOf("&");-1!==o&&(n=n.substring(0,o)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!e||(n=t.href,i="custom"),!!n&&{id:n,type:i,s:t.search.replace(/^\?/,""),p:E()}}function z(t,e,n){var o,r,a=t.video;return"youtube"===a.type?(r=E()+"img.youtube.com/vi/"+a.id+"/default.jpg",o=r.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===a.type?i.ajax({url:E()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(i){t.thumbsReady=!0,k(e,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:o,thumb:r}}function k(t,e,n,o){for(var r=0,a=t.length;a>r;r++){var s=t[r];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Ke]=u[Ge]=u[Xe]=!1,o.splice(r,1,i.extend({},s,u,e));break}}}function M(t){function e(t,e,o){var r=t.children("img").eq(0),a=t.attr("href"),s=t.attr("src"),u=r.attr("src"),l=e.video,c=!!o&&S(a,l===!0);c?a=!1:c=l,n(t,r,i.extend(e,{video:c,img:e.img||a||s||u,thumb:e.thumb||u||s||a}))}function n(t,e,n){var o=n.thumb&&n.img!==n.thumb,r=f(n.width||t.attr("width")),a=f(n.height||t.attr("height"));i.extend(n,{width:r,height:a,thumbratio:H(n.thumbratio||f(n.thumbwidth||e&&e.attr("width")||o||r)/f(n.thumbheight||e&&e.attr("height")||o||a))})}var o=[];return t.children().each(function(){var t=i(this),r=B(i.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,r,!0);else{if(t.is(":empty"))return;n(t,null,i.extend(r,{html:this,_html:t.html()}))}o.push(r)}),o}function I(t){return 0===t.offsetWidth&&0===t.offsetHeight}function L(t){return!i.contains(e.documentElement,t)}function F(t,e,n,i){return F.i||(F.i=1,F.ii=[!0]),i=i||F.i,"undefined"==typeof F.ii[i]&&(F.ii[i]=!0),t()?e():F.ii[i]&&setTimeout(function(){F.ii[i]&&F(t,e,n,i)},n||100),F.i++}function P(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function W(t,e,n,i){var o=t.data(),r=o.measures;if(r&&(!o.l||o.l.W!==r.width||o.l.H!==r.height||o.l.r!==r.ratio||o.l.w!==e.w||o.l.h!==e.h||o.l.m!==n||o.l.p!==i)){var a=r.width,u=r.height,l=e.w/e.h,c=r.ratio>=l,h="scaledown"===n,d="contain"===n,f="cover"===n,p=Z(i);c&&(h||d)||!c&&f?(a=s(e.w,0,h?a:1/0),u=a/r.ratio):(c&&f||!c&&(h||d))&&(u=s(e.h,0,h?u:1/0),a=u*r.ratio),t.css({width:a,height:u,left:m(p.x,e.w-a),top:m(p.y,e.h-u)}),o.l={W:r.width,H:r.height,r:r.ratio,w:e.w,h:e.h,m:n,p:i}}return!0}function O(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function j(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function N(t,e,n,i){if(!n)return!1;if(!isNaN(t))return t-(i?0:1);for(var o,r=0,a=e.length;a>r;r++){var s=e[r];if(s.id===t){o=r;break}}return o}function R(t,e,n){n=n||{},t.each(function(){var t,o=i(this),r=o.data();r.clickOn||(r.clickOn=!0,i.extend(nt(o,{onStart:function(e){t=e,(n.onStart||a).call(this,e)},onMove:n.onMove||a,onTouchEnd:n.onTouchEnd||a,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))})}function q(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function $(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),i=t[e];t[e]=t[n],t[n]=i}return t}function A(t){return"[object Array]"==Object.prototype.toString.call(t)&&i.map(t,function(t){return i.extend({},t)})}function D(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function B(t){if(t){var e={};return i.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function H(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||o):e}}function Y(t,e,n,i){e&&(t.addEventListener?t.addEventListener(e,n,!!i):t.attachEvent("on"+e,n))}function Q(t){return!!t.getAttribute("disabled")}function U(t){return{tabindex:-1*t+"",disabled:t}}function V(t,e){Y(t,"keyup",function(n){Q(t)||13==n.keyCode&&e.call(t,n)})}function K(t,e){Y(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function X(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function G(t){return t?">":"<"}function Z(t){return t=(t+"").split(/\s+/),{x:v(t[0])||en,y:v(t[1])||en}}function J(t,e){var n=t.data(),o=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||a)()};"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(o=e.overPos,r=function(){J(t,i.extend({},e,{overPos:e.pos,time:Math.max(De,e.time/2)}))});var s=i.extend(c(o),e.width&&{width:e.width});n.sliding=!0,We?(t.css(i.extend(h(e.time),s)),e.time>10?b(t,"transform",r,e.time):r()):t.stop().animate(s,e.time,Je,r)}function tt(t,e,n,o,r,s){var u="undefined"!=typeof s;if(u||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){t=t||i(t),e=e||i(e);var l=t[0],c=e[0],h="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(u||r.shift())&&r.shift();t&&tt.apply(this,t),(o.onEnd||a)(!!t)}},f=o.time/(s||1);n.removeClass(Bt+" "+Dt),t.stop().addClass(Bt),e.stop().addClass(Dt),h&&c&&t.fadeTo(0,0),t.fadeTo(h?f:0,1,h&&d),e.fadeTo(f,0,d),l&&h||c||d()}}function et(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=i.now()}function nt(t,n){function o(t){return d=i(t.target),b.checked=m=v=y=!1,c||b.flow||t.touches&&t.touches.length>1||t.which>1||rn&&rn.type!==t.type&&sn||(m=n.select&&d.is(n.select,w))?m:(p="touchstart"===t.type,v=d.is("a, a *",w),f=b.control,g=b.noMove||b.noSwipe||f?16:b.snap?0:4,et(t),h=rn=t,an=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||a).call(w,t,{control:f,$target:d}),c=b.flow=!0,void((!p||b.go)&&X(t)))}function r(t){if(t.touches&&t.touches.length>1||qe&&!t.isPrimary||an!==t.type||!c)return c&&s(),void(n.onTouchEnd||a)();et(t);var e=Math.abs(t._x-h._x),i=Math.abs(t._y-h._y),o=e-i,r=(b.go||b.x||o>=0)&&!b.noSwipe,u=0>o;p&&!b.checked?(c=r)&&X(t):(X(t),(n.onMove||a).call(w,t,{touch:p})),!y&&Math.sqrt(Math.pow(e,2)+Math.pow(i,2))>g&&(y=!0),b.checked=b.checked||r||u}function s(t){(n.onTouchEnd||a)();var e=c;b.control=c=!1,e&&(b.flow=!1),!e||v&&!b.checked||(t&&X(t),sn=!0,clearTimeout(un),un=setTimeout(function(){sn=!1},1e3),(n.onEnd||a).call(w,{moved:y,$target:d,control:f,touch:p,startEvent:h,aborted:!t||"MSPointerCancel"===t.type}))}function u(){b.flow||setTimeout(function(){b.flow=!0},10)}function l(){b.flow&&setTimeout(function(){b.flow=!1},Ae)}var c,h,d,f,p,m,v,g,y,w=t[0],b={};return qe?(Y(w,"MSPointerDown",o),Y(e,"MSPointerMove",r),Y(e,"MSPointerCancel",s),Y(e,"MSPointerUp",s)):(Y(w,"touchstart",o),Y(w,"touchmove",r),Y(w,"touchend",s),Y(e,"touchstart",u),Y(e,"touchend",l),Y(e,"touchcancel",l),Ie.on("scroll",l),t.on("mousedown",o),Le.on("mousemove",r).on("mouseup",s)),t.on("click","a",function(t){b.checked&&X(t)}),b}function it(t,e){function n(n,i){S=!0,l=h=n._x,v=n._now,m=[[v,l]],d=f=M.noMove||i?0:x(t,(e.getPos||a)()),(e.onStart||a).call(z,n)}function o(t,e){y=M.min,w=M.max,b=M.snap,_=t.altKey,S=C=!1,E=e.control,E||k.sliding||n(t)}function r(i,o){M.noSwipe||(S||n(i),h=i._x,m.push([i._now,h]),f=d-(l-h),p=j(f,y,w),y>=f?f=T(f,y):f>=w&&(f=T(f,w)),M.noMove||(t.css(c(f)),C||(C=!0,o.touch||qe||t.addClass(oe)),(e.onMove||a).call(z,i,{pos:f,edge:p})))}function u(o){if(!M.noSwipe||!o.moved){S||n(o.startEvent,!0),o.touch||qe||t.removeClass(oe),g=i.now();for(var r,u,l,c,p,v,x,T,E,C=g-Ae,k=null,I=De,L=e.friction,F=m.length-1;F>=0;F--){if(r=m[F][0],u=Math.abs(r-C),null===k||l>u)k=r,c=m[F][1];else if(k===C||u>l)break;l=u}x=s(f,y,w);var P=c-h,W=P>=0,O=g-k,j=O>Ae,N=!j&&f!==d&&x===f;b&&(x=s(Math[N?W?"floor":"ceil":"round"](f/b)*b,y,w),y=w=x),N&&(b||x===f)&&(E=-(P/O),I*=s(Math.abs(E),e.timeLow,e.timeHigh),p=Math.round(f+E*I/L),b||(x=p),(!W&&p>w||W&&y>p)&&(v=W?y:w,T=p-v,b||(x=v),T=s(x+.03*T,v-50,v+50),I=Math.abs((f-T)/(E/L)))),I*=_?10:1,(e.onEnd||a).call(z,i.extend(o,{moved:o.moved||j&&b,pos:f,newPos:x,overPos:T,time:I}))}}var l,h,d,f,p,m,v,g,y,w,b,_,E,C,S,z=t[0],k=t.data(),M={};return M=i.extend(nt(e.$wrap,i.extend({},e,{onStart:o,onMove:r,onEnd:u})),M)}function ot(t,e){var n,o,r,s=t[0],u={prevent:{}};return Y(s,$e,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,l=t.wheelDeltaX||-1*t.deltaX||0,c=Math.abs(l)&&!Math.abs(s),h=G(0>l),d=o===h,f=i.now(),p=Ae>f-r;o=h,r=f,c&&u.ok&&(!u.prevent[h]||n)&&(X(t,!0),n&&d&&p||(e.shift&&(n=!0,clearTimeout(u.t),u.t=setTimeout(function(){n=!1},Be)),(e.onEnd||a)(t,e.shift?h:l)))}),u}function rt(){i.each(i.Fotorama.instances,function(t,e){e.index=t})}function at(t){i.Fotorama.instances.push(t),rt()}function st(t){i.Fotorama.instances.splice(t.index,1),rt()}var ut="fotorama",lt="fullscreen",ct=ut+"__wrap",ht=ct+"--css2",dt=ct+"--css3",ft=ct+"--video",pt=ct+"--fade",mt=ct+"--slide",vt=ct+"--no-controls",gt=ct+"--no-shadows",yt=ct+"--pan-y",wt=ct+"--rtl",bt=ct+"--only-active",xt=ct+"--no-captions",_t=ct+"--toggle-arrows",Tt=ut+"__stage",Et=Tt+"__frame",Ct=Et+"--video",St=Tt+"__shaft",zt=ut+"__grab",kt=ut+"__pointer",Mt=ut+"__arr",It=Mt+"--disabled",Lt=Mt+"--prev",Ft=Mt+"--next",Pt=ut+"__nav",Wt=Pt+"-wrap",Ot=Pt+"__shaft",jt=Pt+"--dots",Nt=Pt+"--thumbs",Rt=Pt+"__frame",qt=Rt+"--dot",$t=Rt+"--thumb",At=ut+"__fade",Dt=At+"-front",Bt=At+"-rear",Ht=ut+"__shadow",Yt=Ht+"s",Qt=Yt+"--left",Ut=Yt+"--right",Vt=ut+"__active",Kt=ut+"__select",Xt=ut+"--hidden",Gt=ut+"--fullscreen",Zt=ut+"__fullscreen-icon",Jt=ut+"__error",te=ut+"__loading",ee=ut+"__loaded",ne=ee+"--full",ie=ee+"--img",oe=ut+"__grabbing",re=ut+"__img",ae=re+"--full",se=ut+"__dot",ue=ut+"__thumb",le=ue+"-border",ce=ut+"__html",he=ut+"__video",de=he+"-play",fe=he+"-close",pe=ut+"__caption",me=ut+"__caption__wrap",ve=ut+"__spinner",ge='" tabindex="0" role="button',ye=i&&i.fn.jquery.split(".");if(!ye||ye[0]<1||1==ye[0]&&ye[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var we={},be=function(t,e,n){function i(t){g.cssText=t}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var o=t[i];if(!r(o,"-")&&g[o]!==n)return"pfx"!=e||o}return!1}function s(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return i===!1?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function u(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+b.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+x.join(i+" ")+i).split(" "),s(r,e,n))}var l,c,h,d="2.6.2",f={},p=e.documentElement,m="modernizr",v=e.createElement(m),g=v.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",b=w.split(" "),x=w.toLowerCase().split(" "),_={},T=[],E=T.slice,C=function(t,n,i,o){var r,a,s,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=o?o[i]:m+(i+1),l.appendChild(s);return r=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),l.id=m,(c?l:h).innerHTML+=r,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=p.style.overflow,p.style.overflow="hidden",p.appendChild(h)),a=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),p.style.overflow=u),!!a},S={}.hasOwnProperty;h=o(S,"undefined")||o(S.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,n.concat(E.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(E.call(arguments)))};return i}),_.csstransforms3d=function(){var t=!!u("perspective");return t};for(var z in _)h(_,z)&&(c=z.toLowerCase(),f[c]=_[z](),T.push((f[c]?"":"no-")+c));return f.addTest=function(t,e){if("object"==typeof t)for(var i in t)h(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(p.className+=" "+(e?"":"no-")+t),f[t]=e}return f},i(""),v=l=null,f._version=d,f._prefixes=y,f._domPrefixes=x,f._cssomPrefixes=b,f.testProp=function(t){return a([t])},f.testAllProps=u,f.testStyles=C,f.prefixed=function(t,e,n){return e?u(t,e,n):u(t,"pfx")},f}(t,e),xe={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},_e="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)xe.ok=!0;else for(var Te=0,Ee=_e.length;Ee>Te;Te++)if(xe.prefix=_e[Te],"undefined"!=typeof e[xe.prefix+"CancelFullScreen"]){xe.ok=!0;break}xe.ok&&(xe.event=xe.prefix+"fullscreenchange",xe.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},xe.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},xe.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Ce,Se={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},ze={top:"auto",left:"auto",className:""};!function(t,e){Ce=e()}(this,function(){function t(t,n){var i,o=e.createElement(t||"div");for(i in n)o[i]=n[i];return o}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,n,i){var o=["opacity",e,~~(100*t),n,i].join("-"),r=.01+n/i*100,a=Math.max(1-(1-t)/e*(100-r),t),s=d.substring(0,d.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return p[o]||(m.insertRule("@"+u+"keyframes "+o+"{0%{opacity:"+a+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",m.cssRules.length),p[o]=1),o}function r(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<f.length;i++)if(n=f[i]+e,r[n]!==o)return n;return r[e]!==o?e:void 0}function a(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]===o&&(t[i]=n[i])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function l(t,e){return"string"==typeof t?t:t[e%t.length]}function c(t){return"undefined"==typeof this?new c(t):void(this.opts=s(t||{},c.defaults,v))}function h(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),c.prototype.lines=function(t,i){function o(){return a(e("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function r(t,r,s){n(d,n(a(o(),{rotation:360/i.lines*t+"deg",left:~~r}),n(a(e("roundrect",{arcsize:i.corners}),{width:u,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),e("fill",{color:l(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}var s,u=i.length+i.width,c=2*u,h=2*-(i.width+i.length)+"px",d=a(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(s=1;s<=i.lines;s++)r(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)r(s);return n(t,d)},c.prototype.opacity=function(t,e,n,i){var o=t.firstChild;i=i.shadow&&i.lines||0,o&&e+i<o.childNodes.length&&(o=o.childNodes[e+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var d,f=["webkit","Moz","ms","O"],p={},m=function(){var i=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};c.defaults={},s(c.prototype,{spin:function(e){this.stop();var n,i,o=this,r=o.opts,s=o.el=a(t(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(e&&(e.insertBefore(s,e.firstChild||null),i=u(e),n=u(s),a(s,{left:("auto"==r.left?i.x-n.x+(e.offsetWidth>>1):parseInt(r.left,10)+l)+"px",top:("auto"==r.top?i.y-n.y+(e.offsetHeight>>1):parseInt(r.top,10)+l)+"px"})),s.setAttribute("role","progressbar"),o.lines(s,o.opts),!d){var c,h=0,f=(r.lines-1)*(1-r.direction)/2,p=r.fps,m=p/r.speed,v=(1-r.opacity)/(m*r.trail/100),g=m/r.lines;!function t(){h++;for(var e=0;e<r.lines;e++)c=Math.max(1-(h+(r.lines-e)*g)%m*v,r.opacity),o.opacity(s,e*r.direction+f,c,r);o.timeout=o.el&&setTimeout(t,~~(1e3/p))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=o),this},lines:function(e,o){function r(e,n){return a(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var s,u=0,c=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)s=a(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:d&&i(o.opacity,o.trail,c+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&n(s,a(r("#000","0 0 4px #000"),{top:"2px"})),n(e,n(s,r(l(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var g=a(t("group"),{behavior:"url(#default#VML)"});return!r(g,"transform")&&g.adj?h():d=r(g,"animation"),c});var ke,Me,Ie=i(t),Le=i(e),Fe="quirks"===n.hash.replace("#",""),Pe=be.csstransforms3d,We=Pe&&!Fe,Oe=Pe||"CSS1Compat"===e.compatMode,je=xe.ok,Ne=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Re=!We||Ne,qe=navigator.msPointerEnabled,$e="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Ae=250,De=300,Be=1400,He=5e3,Ye=2,Qe=64,Ue=500,Ve=333,Ke="$stageFrame",Xe="$navDotFrame",Ge="$navThumbFrame",Ze="auto",Je=r([.1,0,.25,1]),tn=99999,en="50%",nn={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Ye,glimpse:0,fit:"contain",position:en,thumbposition:en,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Qe,thumbheight:Qe,thumbmargin:Ye,thumbborderwidth:Ye,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:De,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},on={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};F.stop=function(t){F.ii[t]=!1};var rn,an,sn,un;jQuery.Fotorama=function(t,o){function r(){i.each(Cn,function(t,e){if(!e.i){e.i=fi++;var n=S(e.video,!0);if(n){var i={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:i=z(e,Cn,li),k(Cn,{img:i.img,thumb:i.thumb},e.i,li)}}})}function a(t){return Zn[t]||li.fullScreen}function u(t){var e="keydown."+ut,n=ut+ci,i="keydown."+n,r="resize."+n+" orientationchange."+n;t?(Le.on(i,function(t){var e,n;Mn&&27===t.keyCode?(e=!0,fn(Mn,!0,!0)):(li.fullScreen||o.keyboard&&!li.index)&&(27===t.keyCode?(e=!0,li.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&a("space")||37===t.keyCode&&a("left")||38===t.keyCode&&a("up")?n="<":32===t.keyCode&&a("space")||39===t.keyCode&&a("right")||40===t.keyCode&&a("down")?n=">":36===t.keyCode&&a("home")?n="<<":35===t.keyCode&&a("end")&&(n=">>")),(e||n)&&X(t),n&&li.show({index:n,slow:t.altKey,user:!0})}),li.index||Le.off(e).on(e,"textarea, input, select",function(t){!Me.hasClass(lt)&&t.stopPropagation()}),Ie.on(r,li.resize)):(Le.off(i),Ie.off(r))}function l(e){e!==l.f&&(e?(t.html("").addClass(ut+" "+hi).append(gi).before(mi).before(vi),at(li)):(gi.detach(),mi.detach(),vi.detach(),t.html(pi.urtext).removeClass(hi),st(li)),u(e),l.f=e)}function d(){Cn=li.data=Cn||A(o.data)||M(t),Sn=li.size=Cn.length,!En.ok&&o.shuffle&&$(Cn),r(),ji=E(ji),Sn&&l(!0)}function p(){var t=2>Sn&&!o.enableifsingleframe||Mn;qi.noMove=t||Yn,qi.noSwipe=t||!o.swipe,!Kn&&wi.toggleClass(zt,!o.click&&!qi.noMove&&!qi.noSwipe),qe&&gi.toggleClass(yt,!qi.noSwipe)}function w(t){t===!0&&(t=""),o.autoplay=Math.max(+t||He,1.5*Vn)}function b(){function t(t,n){e[t?"add":"remove"].push(n)}li.options=o=B(o),Yn="crossfade"===o.transition||"dissolve"===o.transition,qn=o.loop&&(Sn>2||Yn&&(!Kn||"slide"!==Kn)),Vn=+o.transitionduration||De,Gn="rtl"===o.direction,Zn=i.extend({},o.keyboard&&on,o.keyboard);var e={add:[],remove:[]};Sn>1||o.enableifsingleframe?($n=o.nav,Dn="top"===o.navposition,e.remove.push(Kt),Ti.toggle(!!o.arrows)):($n=!1,Ti.hide()),Bt(),kn=new Ce(i.extend(Se,o.spinner,ze,{direction:Gn?-1:1})),Fe(),Pe(),o.autoplay&&w(o.autoplay),Qn=f(o.thumbwidth)||Qe,Un=f(o.thumbheight)||Qe,$i.ok=Di.ok=o.trackpad&&!Re,p(),rn(o,[Ri]),An="thumbs"===$n,An?(he(Sn,"navThumb"),zn=ki,ui=Ge,O(mi,i.Fotorama.jst.style({w:Qn,h:Un,b:o.thumbborderwidth,m:o.thumbmargin,s:ci,q:!Oe})),Ci.addClass(Nt).removeClass(jt)):"dots"===$n?(he(Sn,"navDot"),zn=zi,ui=Xe,Ci.addClass(jt).removeClass(Nt)):($n=!1,Ci.removeClass(Nt+" "+jt)),$n&&(Dn?Ei.insertBefore(yi):Ei.insertAfter(yi),_e.nav=!1,_e(zn,Si,"nav")),Bn=o.allowfullscreen,Bn?(Ii.prependTo(yi),Hn=je&&"native"===Bn):(Ii.detach(),Hn=!1),t(Yn,pt),t(!Yn,mt),t(!o.captions,xt),t(Gn,wt),t("always"!==o.arrows,_t),Xn=o.shadows&&!Re,t(!Xn,gt),gi.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Ni=i.extend({},o)}function T(t){return 0>t?(Sn+t%Sn)%Sn:t>=Sn?t%Sn:t}function E(t){return s(t,0,Sn-1)}function C(t){return qn?T(t):E(t)}function I(t){return!!(t>0||qn)&&t-1}function Q(t){return!!(Sn-1>t||qn)&&t+1}function Z(){qi.min=qn?-1/0:-g(Sn-1,Ri.w,o.margin,Fn),qi.max=qn?1/0:-g(0,Ri.w,o.margin,Fn),qi.snap=Ri.w+o.margin}function et(){Ai.min=Math.min(0,Ri.nw-Si.width()),Ai.max=0,Si.toggleClass(zt,!(Ai.noMove=Ai.min===Ai.max))}function nt(t,e,n){if("number"==typeof t){t=new Array(t);var o=!0}return i.each(t,function(t,i){if(o&&(i=t),"number"==typeof i){var r=Cn[T(i)];if(r){var a="$"+e+"Frame",s=r[a];n.call(this,t,i,r,s,a,s&&s.data())}}})}function rt(t,e,n,i){(!Jn||"*"===Jn&&i===Rn)&&(t=v(o.width)||v(t)||Ue,e=v(o.height)||v(e)||Ve,li.resize({width:t,ratio:o.ratio||n||t/e},0,i!==Rn&&"*"))}function At(t,e,n,r,a,s){nt(t,e,function(t,u,l,c,h,d){function f(t){var e=T(u);an(t,{index:e,src:_,frame:Cn[e]})}function p(){w.remove(),i.Fotorama.cache[_]="error",l.html&&"stage"===e||!E||E===_?(!_||l.html||g?"stage"===e&&(c.trigger("f:load").removeClass(te+" "+Jt).addClass(ee),f("load"),rt()):(c.trigger("f:error").removeClass(te).addClass(Jt),f("error")),d.state="error",!(Sn>1&&Cn[u]===l)||l.html||l.deleted||l.video||g||(l.deleted=!0,li.splice(u,1))):(l[x]=_=E,At([u],e,n,r,a,!0))}function m(){i.Fotorama.measures[_]=b.measures=i.Fotorama.measures[_]||{width:y.width,height:y.height,ratio:y.width/y.height},rt(b.measures.width,b.measures.height,b.measures.ratio,u),w.off("load error").addClass(re+(g?" "+ae:"")).prependTo(c),W(w,(i.isFunction(n)?n():n)||Ri,r||l.fit||o.fit,a||l.position||o.position),i.Fotorama.cache[_]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(te+" "+Jt).addClass(ee+" "+(g?ne:ie)),"stage"===e?f("load"):(l.thumbratio===Ze||!l.thumbratio&&o.thumbratio===Ze)&&(l.thumbratio=b.measures.ratio,_n())},0)}function v(){var t=10;F(function(){return!ai||!t--&&!Re},function(){m()})}if(c){var g=li.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||s||g){var y=new Image,w=i(y),b=w.data();d[g?"$full":"$img"]=w;var x="stage"===e?g?"full":"img":"thumb",_=l[x],E=g?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!_)return void p();i.Fotorama.cache[_]?!function t(){"error"===i.Fotorama.cache[_]?p():"loaded"===i.Fotorama.cache[_]?setTimeout(v,0):setTimeout(t,100)}():(i.Fotorama.cache[_]="*",w.on("load",v).on("error",p)),d.state="",y.src=_}}})}function Dt(t){Oi.append(kn.spin().el).appendTo(t)}function Bt(){Oi.detach(),kn&&kn.stop()}function Ht(){var t=In[Ke];t&&!t.data().state&&(Dt(t),t.on("f:load f:error",function(){t.off("f:load f:error"),Bt()}))}function oe(t){V(t,wn),K(t,function(){setTimeout(function(){D(Ci)},0),Be({time:Vn,guessIndex:i(this).data().eq,minMax:Ai})})}function he(t,e){nt(t,e,function(t,n,o,r,a,s){if(!r){r=o[a]=gi[a].clone(),s=r.data(),s.data=o;var u=r[0];"stage"===e?(o.html&&i('<div class="'+ce+'"></div>').append(o._html?i(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),o.caption&&i(q(pe,q(me,o.caption))).appendTo(r),o.video&&r.addClass(Ct).append(Fi.clone()),K(u,function(){setTimeout(function(){D(yi)},0),vn({index:s.eq,user:!0})}),bi=bi.add(r)):"navDot"===e?(oe(u),zi=zi.add(r)):"navThumb"===e&&(oe(u),s.$wrap=r.children(":first"),ki=ki.add(r),o.video&&s.$wrap.append(Fi.clone()))}})}function ye(t,e,n,i){return t&&t.length&&W(t,e,n,i)}function we(t){nt(t,"stage",function(t,e,n,r,a,s){if(r){var u=T(e),l=n.fit||o.fit,c=n.position||o.position;s.eq=u,Hi[Ke][u]=r.css(i.extend({left:Yn?0:g(e,Ri.w,o.margin,Fn)},Yn&&h(0))),L(r[0])&&(r.appendTo(wi),fn(n.$video)),ye(s.$img,Ri,l,c),ye(s.$full,Ri,l,c)}})}function be(t,e){if("thumbs"===$n&&!isNaN(t)){var n=-t,r=-t+Ri.nw;ki.each(function(){var t=i(this),a=t.data(),s=a.eq,u=function(){return{h:Un,w:a.w}},l=u(),c=Cn[s]||{},h=c.thumbfit||o.thumbfit,d=c.thumbposition||o.thumbposition;l.w=a.w,a.l+a.w<n||a.l>r||ye(a.$img,l,h,d)||e&&At([s],"navThumb",u,h,d)})}}function _e(t,e,n){if(!_e[n]){var r="nav"===n&&An,a=0;e.append(t.filter(function(){for(var t,e=i(this),n=e.data(),o=0,r=Cn.length;r>o;o++)if(n.data===Cn[o]){t=!0,n.eq=o;break}return t||e.remove()&&!1}).sort(function(t,e){return i(t).data().eq-i(e).data().eq}).each(function(){if(r){var t=i(this),e=t.data(),n=Math.round(Un*e.data.thumbratio)||Qn;e.l=a,e.w=n,t.css({width:n}),a+=n+o.thumbmargin}})),_e[n]=!0}}function Te(t){return t-Yi>Ri.w/3}function Ee(t){return!(qn||ji+t&&ji-Sn+t||Mn)}function Fe(){var t=Ee(0),e=Ee(1);xi.toggleClass(It,t).attr(U(t)),_i.toggleClass(It,e).attr(U(e))}function Pe(){$i.ok&&($i.prevent={"<":Ee(0),">":Ee(1)})}function Ne(t){var e,n,i=t.data();return An?(e=i.l,n=i.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*o.thumbmargin,max:-e+Ri.w-n-10*o.thumbmargin}}function $e(t){var e=In[ui].data();J(Mi,{time:1.2*t,pos:e.l,width:e.w-2*o.thumbborderwidth})}function Be(t){var e=Cn[t.guessIndex][ui];if(e){var n=Ai.min!==Ai.max,i=t.minMax||n&&Ne(In[ui]),o=n&&(t.keep&&Be.l?Be.l:s((t.coo||Ri.nw/2)-Ne(e).c,i.min,i.max)),r=n&&s(o,Ai.min,Ai.max),a=1.1*t.time;J(Si,{time:a,pos:r||0,onEnd:function(){be(r,!0)}}),dn(Ci,j(r,Ai.min,Ai.max)),Be.l=o}}function Ye(){Je(ui),Bi[ui].push(In[ui].addClass(Vt))}function Je(t){for(var e=Bi[t];e.length;)e.shift().removeClass(Vt)}function en(t){var e=Hi[t];i.each(Ln,function(t,n){delete e[T(n)]}),i.each(e,function(t,n){delete e[t],n.detach()})}function nn(t){Fn=Pn=ji;var e=In[Ke];e&&(Je(Ke),Bi[Ke].push(e.addClass(Vt)),t||li.show.onEnd(!0),x(wi,0,!0),en(Ke),we(Ln),Z(),et())}function rn(t,e){t&&i.each(e,function(e,n){n&&i.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:H(t.ratio)})})}function an(e,n){t.trigger(ut+":"+e,[li,n])}function sn(){clearTimeout(un.t),ai=1,o.stopautoplayontouch?li.stopAutoplay():ii=!0}function un(){ai&&(o.stopautoplayontouch||(ln(),cn()),un.t=setTimeout(function(){ai=0},De+Ae))}function ln(){ii=!(!Mn&&!oi)}function cn(){if(clearTimeout(cn.t),F.stop(cn.w),!o.autoplay||ii)return void(li.autoplay&&(li.autoplay=!1,an("stopautoplay")));li.autoplay||(li.autoplay=!0,an("startautoplay"));var t=ji,e=In[Ke].data();cn.w=F(function(){return e.state||t!==ji},function(){cn.t=setTimeout(function(){if(!ii&&t===ji){var e=Nn,n=Cn[e][Ke].data();cn.w=F(function(){return n.state||e!==Nn},function(){ii||e!==Nn||li.show(qn?G(!Gn):Nn)})}},o.autoplay)})}function hn(){li.fullScreen&&(li.fullScreen=!1,je&&xe.cancel(di),Me.removeClass(lt),ke.removeClass(lt),t.removeClass(Gt).insertAfter(vi),Ri=i.extend({},ri),fn(Mn,!0,!0),yn("x",!1),li.resize(),At(Ln,"stage"),D(Ie,ei,ti),an("fullscreenexit"))}function dn(t,e){Xn&&(t.removeClass(Qt+" "+Ut),e&&!Mn&&t.addClass(e.replace(/^|\s/g," "+Yt+"--")))}function fn(t,e,n){e&&(gi.removeClass(ft),Mn=!1,p()),t&&t!==Mn&&(t.remove(),an("unloadvideo")),n&&(ln(),cn())}function pn(t){gi.toggleClass(vt,t)}function mn(t){if(!qi.flow){var e=t?t.pageX:mn.x,n=e&&!Ee(Te(e))&&o.click;mn.p!==n&&yi.toggleClass(kt,n)&&(mn.p=n,mn.x=e)}}function vn(t){clearTimeout(vn.t),o.clicktransition&&o.clicktransition!==o.transition?setTimeout(function(){var e=o.transition;li.setOptions({transition:o.clicktransition}),Kn=e,vn.t=setTimeout(function(){li.show(t)},10)},0):li.show(t)}function gn(t,e){var n=t.target,r=i(n);r.hasClass(de)?li.playVideo():n===Li?li.toggleFullScreen():Mn?n===Wi&&fn(Mn,!0,!0):e?pn():o.click&&vn({index:t.shiftKey||G(Te(t._x)),slow:t.altKey,user:!0})}function yn(t,e){qi[t]=Ai[t]=e}function wn(t){var e=i(this).data().eq;vn({index:e,slow:t.altKey,user:!0,coo:t._x-Ci.offset().left})}function bn(t){vn({index:Ti.index(this)?">":"<",slow:t.altKey,user:!0})}function xn(t){K(t,function(){setTimeout(function(){D(yi)},0),pn(!1)})}function _n(){if(d(),b(),!_n.i){_n.i=!0;var t=o.startindex;(t||o.hash&&n.hash)&&(Rn=N(t||n.hash.replace(/^#/,""),Cn,0===li.index||t,t)),ji=Fn=Pn=Wn=Rn=C(Rn)||0}if(Sn){if(Tn())return;Mn&&fn(Mn,!0),Ln=[],en(Ke),_n.ok=!0,li.show({index:ji,time:0}),li.resize()}else li.destroy()}function Tn(){return!Tn.f===Gn?(Tn.f=Gn,ji=Sn-1-ji,li.reverse(),!0):void 0}function En(){En.ok||(En.ok=!0,an("ready"))}ke=i("html"),Me=i("body");var Cn,Sn,zn,kn,Mn,In,Ln,Fn,Pn,Wn,On,jn,Nn,Rn,qn,$n,An,Dn,Bn,Hn,Yn,Qn,Un,Vn,Kn,Xn,Gn,Zn,Jn,ti,ei,ni,ii,oi,ri,ai,si,ui,li=this,ci=i.now(),hi=ut+ci,di=t[0],fi=1,pi=t.data(),mi=i("<style></style>"),vi=i(q(Xt)),gi=i(q(ct)),yi=i(q(Tt)).appendTo(gi),wi=(yi[0],i(q(St)).appendTo(yi)),bi=i(),xi=i(q(Mt+" "+Lt+ge)),_i=i(q(Mt+" "+Ft+ge)),Ti=xi.add(_i).appendTo(yi),Ei=i(q(Wt)),Ci=i(q(Pt)).appendTo(Ei),Si=i(q(Ot)).appendTo(Ci),zi=i(),ki=i(),Mi=(wi.data(),
Si.data(),i(q(le)).appendTo(Si)),Ii=i(q(Zt+ge)),Li=Ii[0],Fi=i(q(de)),Pi=i(q(fe)).appendTo(yi),Wi=Pi[0],Oi=i(q(ve)),ji=!1,Ni={},Ri={},qi={},$i={},Ai={},Di={},Bi={},Hi={},Yi=0,Qi=[];gi[Ke]=i(q(Et)),gi[Ge]=i(q(Rt+" "+$t+ge,q(ue))),gi[Xe]=i(q(Rt+" "+qt+ge,q(se))),Bi[Ke]=[],Bi[Ge]=[],Bi[Xe]=[],Hi[Ke]={},gi.addClass(We?dt:ht).toggleClass(vt,!o.controlsonstart),pi.fotorama=this,li.startAutoplay=function(t){return li.autoplay?this:(ii=oi=!1,w(t||o.autoplay),cn(),this)},li.stopAutoplay=function(){return li.autoplay&&(ii=oi=!0,cn()),this},li.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Pn+1:"<"===e?Pn-1:"<<"===e?0:">>"===e?Sn-1:e,e=isNaN(e)?N(e,Cn,!0):e,e="undefined"==typeof e?ji||0:e,li.activeIndex=ji=C(e),On=I(ji),jn=Q(ji),Nn=T(ji+(Gn?-1:1)),Ln=[ji,On,jn],Pn=qn?e:ji;var n=Math.abs(Wn-Pn),i=_(t.time,function(){return Math.min(Vn*(1+(n-1)/12),2*Vn)}),r=t.overPos;t.slow&&(i*=10);var a=In;li.activeFrame=In=Cn[ji];var u=a===In&&!t.user;fn(Mn,In.i!==Cn[T(Fn)].i),he(Ln,"stage"),we(Re?[Pn]:[Pn,I(Pn),Q(Pn)]),yn("go",!0),u||an("show",{user:t.user,time:i}),ii=!0;var l=li.show.onEnd=function(e){if(!l.ok){if(l.ok=!0,e||nn(!0),u||an("showend",{user:t.user}),!e&&Kn&&Kn!==o.transition)return li.setOptions({transition:Kn}),void(Kn=!1);Ht(),At(Ln,"stage"),yn("go",!1),Pe(),mn(),ln(),cn()}};if(Yn){var c=In[Ke],h=ji!==Wn?Cn[Wn][Ke]:null;tt(c,h,bi,{time:i,method:o.transition,onEnd:l},Qi)}else J(wi,{pos:-g(Pn,Ri.w,o.margin,Fn),overPos:r,time:i,onEnd:l});if(Fe(),$n){Ye();var d=E(ji+s(Pn-Wn,-1,1));Be({time:i,coo:d!==ji&&t.coo,guessIndex:"undefined"!=typeof t.coo?d:ji,keep:u}),An&&$e(i)}return ni="undefined"!=typeof Wn&&Wn!==ji,Wn=ji,o.hash&&ni&&!li.eq&&P(In.id||ji+1),this},li.requestFullScreen=function(){return Bn&&!li.fullScreen&&(ti=Ie.scrollTop(),ei=Ie.scrollLeft(),D(Ie),yn("x",!0),ri=i.extend({},Ri),t.addClass(Gt).appendTo(Me.addClass(lt)),ke.addClass(lt),fn(Mn,!0,!0),li.fullScreen=!0,Hn&&xe.request(di),li.resize(),At(Ln,"stage"),Ht(),an("fullscreenenter")),this},li.cancelFullScreen=function(){return Hn&&xe.is()?xe.cancel(e):hn(),this},li.toggleFullScreen=function(){return li[(li.fullScreen?"cancel":"request")+"FullScreen"]()},Y(e,xe.event,function(){!Cn||xe.is()||Mn||hn()}),li.resize=function(t){if(!Cn)return this;var e=arguments[1]||0,n=arguments[2];rn(li.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:B(t),[Ri,n||li.fullScreen||o]);var i=Ri.width,r=Ri.height,a=Ri.ratio,u=Ie.height()-($n?Ci.height():0);return v(i)&&(gi.addClass(bt).css({width:i,minWidth:Ri.minwidth||0,maxWidth:Ri.maxwidth||tn}),i=Ri.W=Ri.w=gi.width(),Ri.nw=$n&&m(o.navwidth,i)||i,o.glimpse&&(Ri.w-=Math.round(2*(m(o.glimpse,i)||0))),wi.css({width:Ri.w,marginLeft:(Ri.W-Ri.w)/2}),r=m(r,u),r=r||a&&i/a,r&&(i=Math.round(i),r=Ri.h=Math.round(s(r,m(Ri.minheight,u),m(Ri.maxheight,u))),yi.stop().animate({width:i,height:r},e,function(){gi.removeClass(bt)}),nn(),$n&&(Ci.stop().animate({width:Ri.nw},e),Be({guessIndex:ji,time:e,keep:!0}),An&&_e.nav&&$e(e)),Jn=n||!0,En())),Yi=yi.offset().left,this},li.setOptions=function(t){return i.extend(o,t),_n(),this},li.shuffle=function(){return Cn&&$(Cn)&&_n(),this},li.destroy=function(){return li.cancelFullScreen(),li.stopAutoplay(),Cn=li.data=null,l(),Ln=[],en(Ke),_n.ok=!1,this},li.playVideo=function(){var t=In,e=t.video,n=ji;return"object"==typeof e&&t.videoReady&&(Hn&&li.fullScreen&&li.cancelFullScreen(),F(function(){return!xe.is()||n!==ji},function(){n===ji&&(t.$video=t.$video||i(i.Fotorama.jst.video(e)),t.$video.appendTo(t[Ke]),gi.addClass(ft),Mn=t.$video,p(),Ti.blur(),Ii.blur(),an("loadvideo"))})),this},li.stopVideo=function(){return fn(Mn,!0,!0),this},yi.on("mousemove",mn),qi=it(wi,{onStart:sn,onMove:function(t,e){dn(yi,e.edge)},onTouchEnd:un,onEnd:function(t){dn(yi);var e=(qe&&!si||t.touch)&&o.arrows&&"always"!==o.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=y(t.newPos,Ri.w,o.margin,Fn);li.show({index:n,time:Yn?Vn:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||gn(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Kt+", ."+Kt+" *",$wrap:yi}),Ai=it(Si,{onStart:sn,onMove:function(t,e){dn(Ci,e.edge)},onTouchEnd:un,onEnd:function(t){function e(){Be.l=t.newPos,ln(),cn(),be(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(ii=!0,J(Si,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),be(t.newPos),Xn&&dn(Ci,j(t.newPos,Ai.min,Ai.max))):e();else{var n=t.$target.closest("."+Rt,Si)[0];n&&wn.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Ci}),$i=ot(yi,{shift:!0,onEnd:function(t,e){sn(),un(),li.show({index:e,slow:t.altKey})}}),Di=ot(Ci,{onEnd:function(t,e){sn(),un();var n=x(Si)+.25*e;Si.css(c(s(n,Ai.min,Ai.max))),Xn&&dn(Ci,j(n,Ai.min,Ai.max)),Di.prevent={"<":n>=Ai.max,">":n<=Ai.min},clearTimeout(Di.t),Di.t=setTimeout(function(){Be.l=n,be(n,!0)},Ae),be(n)}}),gi.hover(function(){setTimeout(function(){ai||pn(!(si=!0))},0)},function(){si&&pn(!(si=!1))}),R(Ti,function(t){X(t),bn.call(this,t)},{onStart:function(){sn(),qi.control=!0},onTouchEnd:un}),Ti.each(function(){V(this,function(t){bn.call(this,t)}),xn(this)}),V(Li,li.toggleFullScreen),xn(Li),i.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){li[e]=function(){return Cn=Cn||[],"load"!==e?Array.prototype[e].apply(Cn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Cn=A(arguments[0])),_n(),li}}),_n()},i.fn.fotorama=function(e){return this.each(function(){var n=this,o=i(this),r=o.data(),a=r.fotorama;a?a.setOptions(e,!0):F(function(){return!I(n)},function(){r.urtext=o.html(),new i.Fotorama(o,i.extend({},nn,t.fotoramaDefaults,e,r))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(t){var e,n="";return we.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},i.Fotorama.jst.video=function(t){function e(){n+=i.call(arguments,"")}var n="",i=(we.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>\n'},i(function(){i("."+ut+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,r,s){function u(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each(function(t,u){var l=s.data(u,n);if(!l)return void a(n+" not initialized. Cannot call methods, i.e. "+r);var c=l[e];if(!c||"_"==e.charAt(0))return void a(r+" is not a valid method");var h=c.apply(l,i);o=void 0===o?h:o}),void 0!==o?o:t}function l(t,e){t.each(function(t,i){var o=s.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),s.data(i,n,o))})}s=s||e||t.jQuery,s&&(r.prototype.option||(r.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[n]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return l(this,t),this},i(s))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var o=Array.prototype.slice,r=t.console,a="undefined"==typeof r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},i=n[t]=n[t]||{};return i[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),i+=a?0:1,o=n[i]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),n=-1==t.indexOf("%")&&!isNaN(e);return n&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;l>e;e++){var n=u[e];t[n]=0}return t}function i(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=i(e);r.isBoxSizeOuter=a=200==t(o.width),n.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=i(e);if("none"==r.display)return n();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var c=s.isBorderBox="border-box"==r.boxSizing,h=0;l>h;h++){var d=u[h],f=r[d],p=parseFloat(f);s[d]=isNaN(p)?0:p}var m=s.paddingLeft+s.paddingRight,v=s.paddingTop+s.paddingBottom,g=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,w=s.borderLeftWidth+s.borderRightWidth,b=s.borderTopWidth+s.borderBottomWidth,x=c&&a,_=t(r.width);_!==!1&&(s.width=_+(x?0:m+w));var T=t(r.height);return T!==!1&&(s.height=T+(x?0:v+b)),s.innerWidth=s.width-(m+w),s.innerHeight=s.height-(v+b),s.outerWidth=s.width+g,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=u.length,c=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n],o=i+"MatchesSelector";if(t[o])return o}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={};n.extend=function(t,e){for(var n in e)t[n]=e[n];return t},n.modulo=function(t,e){return(t%e+e)%e},n.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void o.push(t);e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}}),o},n.debounceMethod=function(t,e,n){var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,e),delete r[o]},n||100)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var i=t.console;return n.htmlInit=function(e,o){n.docReady(function(){var r=n.toDashed(o),a="data-"+r,s=document.querySelectorAll("["+a+"]"),u=document.querySelectorAll(".js-"+r),l=n.makeArray(s).concat(n.makeArray(u)),c=a+"-options",h=t.jQuery;l.forEach(function(t){var n,r=t.getAttribute(a)||t.getAttribute(c);try{n=r&&JSON.parse(r)}catch(e){return void(i&&i.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,n);h&&h.data(t,o,s)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return e=null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,a="string"==typeof r.transition?"transition":"WebkitTransition",s="string"==typeof r.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],l={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},c=i.prototype=Object.create(t.prototype);c.constructor=i,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var n in t){var i=l[n]||n;e[i]=t[n]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=this.layout.size,a=-1!=i.indexOf("%")?parseFloat(i)/100*r.width:parseInt(i,10),s=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=e?r.paddingLeft:r.paddingRight,s-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=s},c.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",a=n?"right":"left",s=this.position.x+t[o];e[r]=this.getXValue(s),e[a]="";var u=i?"paddingTop":"paddingBottom",l=i?"top":"bottom",c=i?"bottom":"top",h=this.position.y+t[u];e[l]=this.getYValue(h),e[c]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-n,u=e-i,l={};l.transform=this.getTranslate(s,u),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},c.getTranslate=function(t,e){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return t=n?t:-t,e=i?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},c._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var h="opacity,"+o(s);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:h,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=d[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(f)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("visibleStyle");e[n]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");e[n]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r){return e(t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,o){"use strict";function r(t,e){var n=i.getQueryElement(t);if(!n)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,l&&(this.$element=l(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,d[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];if(!n.length)return 0;n=parseFloat(n);var o=p[i]||1;return n*o}var u=t.console,l=t.jQuery,c=function(){},h=0,d={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;i.extend(f,e.prototype),f.option=function(t){i.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=e[o],a=new n(r,this);i.push(a)}return i},f._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=n(this.element)},f._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},f._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=c,f._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function n(){o.dispatchEvent(t+"Complete",null,[e])}function i(){a++,a==r&&n()}var o=this,r=e.length;if(!e||!r)return void n();var a=0;e.forEach(function(e){e.once(t,i)})},f.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=c,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t),r={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return r},f.handleEvent=i.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},i.debounceMethod(r,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=n(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},f.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete d[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=i.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&d[e]},r.create=function(t,e){var n=a(r);return n.defaults=i.extend({},r.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},r.compatOptions),n.namespace=t,n.data=r.data,n.Item=a(o),i.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n};var p={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");return n.compatOptions.fitWidth="isFitWidth",n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,a=i-o%i,s=a&&1>a?"round":"floor";r=Math[s](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),n=t?this.element.parentNode:this.element,i=e(n);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",i=Math[n](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),r=Math.min.apply(Math,o),a=o.indexOf(r),s={x:this.columnWidth*a,y:r},u=r+t.size.outerHeight,l=this.cols+1-o.length,c=0;l>c;c++)this.colYs[a+c]=u;return s},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?i.left:i.right,a=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var u=Math.floor(a/this.columnWidth);u-=a%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var l=this._getOption("originTop"),c=(l?i.top:i.bottom)+n.outerHeight,h=s;u>=h;h++)this.colYs[h]=Math.max(c,this.colYs[h])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),$(function(){function t(){var t=$(".search-enter-text").val();$.ajax({url:"https://pixabay.com/api/?key=3630931-670473688b01fdf5a6341f310&q=yellow+flowers&image_type=photo&cat=&min_width=&min_height=&q="+t+"&order=popular",mathod:"POST",dataType:"jsonp",success:function(t){console.log("Load information")},error:function(){console.log("Appired problem!!")}}).done(function(t){var n=$(t.hits),i=tmpl(e,{data:n});$(".activity").append('<div class="result"></div>');$(".result").append(i)})}var e=$("#activity-pic-containar").html();t(),$(".search-button").click(function(){$(".result").remove(".result"),t()}),$(".search-enter-text").keypress(function(e){13===e.keyCode&&($(".result").remove(".result"),e.preventDefault(),t())}),$("#activity-pic-containar").masonry({itemSelector:".item"});var n=$(".carousel-arrow-left"),i=$(".carousel-arrow-right "),o=$(".carusel"),r=360,a=0,s=o.find("li").length,u=-((s-1)*r),l=0;n.click(function(){a!=l&&(a+=360,o.animate({left:a+"px"},500))}),i.click(function(){a!=u&&(a-=360,o.animate({left:a+"px"},500))})}),function(){var t={};this.tmpl=function e(n,i){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[n]=t[n]||e(document.getElementById(n).innerHTML);return i?o(i):o}}();